(function(t){function e(e){for(var a,r,n=e[0],c=e[1],l=e[2],m=0,u=[];m<n.length;m++)r=n[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"0611":function(t,e,s){},"0bc9":function(t,e,s){},"2b58":function(t,e,s){"use strict";var a=s("0611"),i=s.n(a);i.a},"31b5":function(t,e,s){},"433f":function(t,e,s){"use strict";var a=s("a035"),i=s.n(a);i.a},4816:function(t,e,s){},"4d58":function(t,e,s){"use strict";var a=s("e362"),i=s.n(a);i.a},"514b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[t.logged?s("toolbar",{staticClass:"toolBar"}):t._e(),t.logged?t._e():s("nav",[s("v-toolbar",{staticClass:"bar"},[s("v-toolbar-title",{staticClass:"white--text"},[s("span",{staticClass:"font-weight-light"},[t._v("NEO")]),s("span",{staticClass:"font-weight-bold"},[t._v("BOOK")])])],1)],1),s("v-main",{staticClass:"grey lighten-3 main  pa-5"},[t.logged?s("keep-alive",{attrs:{include:"Home"}},[t.logged?s("router-view",{staticClass:"mt-12"}):t._e()],1):t._e(),t.logged?t._e():s("login")],1)],1)},o=[],r=(s("96cf"),s("1da1")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",[s("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Yayy! Post uploaded successfully ")]),s("v-app-bar",{staticClass:"appBar",attrs:{dark:"",fixed:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",[s("v-container",{},[s("v-row",["xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?s("v-icon",{attrs:{dark:""},on:{click:function(e){t.visible=!t.visible}}},[t._v("menu")]):t._e(),s("v-toolbar-title",{staticClass:" ml-3"},[s("div",{staticClass:"title",on:{click:function(e){return t.backHome()}}},[s("span",{staticClass:"font-weight-light"},[t._v("NEO")]),s("span",{staticClass:"font-weight-bold"},[t._v("BOOK")])])])],1)],1)],1)],1),s("v-spacer"),"xs"!=t.$vuetify.breakpoint.name&&"sm"!=t.$vuetify.breakpoint.name?s("v-row",{staticClass:"d-flex justify-end",attrs:{name:"btns"}},[t._l(t.items,(function(e){return s("v-btn",{key:e.title,staticClass:"mx-1 ",attrs:{text:"",depressed:"",small:"",router:"",to:e.route}},[s("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.title)+" ")],1)})),s("v-btn",{staticClass:" ml-4",attrs:{text:"",depressed:"",small:""},on:{click:t.logout}},[s("span",[t._v("Logout")]),s("v-icon",{attrs:{right:""}},[t._v("mdi-power")])],1)],2):t._e(),"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?s("v-btn",{attrs:{icon:"",route:"",to:"/chat"}},[s("v-icon",{attrs:{color:"white"}},[t._v("mdi-comment-text-outline")])],1):t._e(),"xs"==t.$vuetify.breakpoint.name||"sm"==t.$vuetify.breakpoint.name?s("v-menu",{staticClass:"d-flex justify-end",attrs:{"offset-y":"",dark:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{color:"",dark:"",icon:""}},"v-btn",i,!1),a),[t.up?t._e():s("v-icon",{attrs:{color:"white lighten-2"}},[t._v("mdi-arrow-down-drop-circle-outline")]),t.up?s("v-icon",{attrs:{color:"white lighten-2"}},[t._v("mdi-arrow-up-drop-circle-outline")]):t._e()],1)]}}],null,!1,1460425916),model:{value:t.up,callback:function(e){t.up=e},expression:"up"}},[s("v-list",{staticStyle:{"background-image":"url('/vbn.jpg')"}},[t._l(t.items,(function(e,a){return s("v-list-item",{key:a,attrs:{dark:"",router:"",to:e.route}},[s("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[t._v(t._s(e.icon))]),s("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.title))])],1)})),s("v-list-item",{on:{click:t.logout}},[s("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[t._v("mdi-power")]),s("v-list-item-title",{staticClass:"white--text pb-1"},[t._v("Log out")])],1)],2)],1):t._e()],1)],1),s("v-navigation-drawer",{staticClass:"drawer",attrs:{app:"",temporary:""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("v-icon",{staticClass:"ml-2 mt-2",attrs:{dark:""},on:{click:function(e){t.visible=!t.visible}}},[t._v("close")]),s("v-layout",{attrs:{column:"",wrap:"","align-center":""}},[s("v-avatar",{attrs:{size:"180",color:"grey"}},[s("v-img",{staticStyle:{"object-fit":"cover"},attrs:{src:""!=t.userDetails.profPic?t.userDetails.profPic:"/male_defDP.png",alt:""},on:{click:function(e){return t.$router.push("othersProfile/"+t.$store.state.uid)}}})],1),s("p",{staticClass:"white--text mt-3 body-1"},[t._v(t._s(t.userDetails.uname))]),s("popup",{on:{projectAdded:function(e){t.snackbar=!0}}}),s("searchBar")],1)],1)],1)},c=[],l=(s("b0c0"),s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"700px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"indigo darken-1 grey--text text--lighten-4",attrs:{depressed:"",small:"",elevation:"3"}},"v-btn",i,!1),a),[s("v-icon",{attrs:{left:"",small:"",color:""}},[t._v("note_add")]),t._v(" Add a post")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{staticClass:" overflow-x-hidden",attrs:{flat:""}},[s("v-card-title",{staticClass:"pl-10"},[s("v-row",{staticClass:"d-flex justify-space-between"},[s("p",[t._v("Add a new post")]),s("v-btn",{attrs:{icon:"",small:"",elevation:"",color:""},on:{click:t.close}},[s("v-icon",{attrs:{color:""}},[t._v("mdi-close")])],1)],1)],1),s("v-card-text",[s("v-form",{ref:"form"},[s("v-textarea",{staticClass:" heading",attrs:{autofocus:"","auto-grow":"","clear-icon":"",rounded:"",rows:"1",placeholder:"Say something, "+this.$store.state.uname+"????","prepend-inner-icon":"edit"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),s("v-row",{staticClass:" ml-6 pt-0"},[s("div",{staticClass:" body-1 font-weight-medium     mt-5 mr-10"},[t._v("Add media to the Post")]),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs3:"",sm2:"",md1:"",lg1:""}},[s("v-file-input",{ref:"fileInput",staticClass:"inp",attrs:{disabled:""!=t.video,color:"indigo","hide-input":"",accept:"image/*","prepend-icon":"mdi-camera"},on:{change:t.onFileSelected}})],1),s("v-flex",{attrs:{xs3:"",sm2:"",md1:"",lg1:""}},[s("v-file-input",{staticClass:"inpu ",attrs:{disabled:""!=t.img,color:"indigo","hide-input":"",accept:"video/*","prepend-icon":"mdi-message-video"},on:{change:t.onVideoSelected}})],1)],1)],1)],1),""!=t.img?s("div",{staticClass:"img-cont indigo lighten-3"},[s("img",{ref:"image",attrs:{src:t.img}})]):t._e()],1),s("v-row",{attrs:{justify:"center"}},[""!=t.video?s("video",{attrs:{width:"400",controls:""}},[s("source",{attrs:{src:t.video}})]):t._e()]),s("v-card-actions",{staticClass:" d-flex justify-end"},[""==t.video?s("v-btn",{attrs:{loading:t.loader,small:"",depressed:"",disabled:t.button,elevation:"2",color:"primary"},on:{click:t.submit}},[t._v("Post")]):s("v-btn",{attrs:{loading:t.loader,small:"",depressed:"",disabled:t.button,elevation:"2",color:"primary"},on:{click:t.submitVid}},[t._v("Post")])],1)],1)],1)}),d=[],m=(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("bab4")),u=s.n(m),p=s("59ca"),v=s.n(p),f=(s("e71f"),s("ea7b"),s("66ce"),s("588e"),{apiKey:"AIzaSyCNJdTjyrUZq2x358rgjC2svS5LCdtMQvo",authDomain:"neobook-21c6a.firebaseapp.com",databaseURL:"https://neobook-21c6a.firebaseio.com",projectId:"neobook-21c6a",storageBucket:"neobook-21c6a.appspot.com",messagingSenderId:"171176700567",appId:"1:171176700567:web:60a1991bf293b18b3357d2"});v.a.initializeApp(f);var h=v.a.firestore(),g=h,y=s("8aa5"),C=s.n(y),_=s("ec26"),x={components:{},data:function(){return{img:"",video:"",videoData:"",title:"",content:"",date:null,dialog:!1,loader:!1,cropper:null,uploadValue:0,canvas:null,Picture:null,selectedFile:null,destination:"",titleRules:[function(t){return t.length>=3||"Minimum Title length is 3"}]}},watch:{img:function(){this.cropper&&this.cropper.destroy()}},computed:{button:function(){return""==this.img&&(""==this.video&&""==this.content)}},methods:{close:function(){this.img="",null!=this.cropper&&this.cropper.destroy(),this.image=null,this.dialog=!1,this.video=""},onFileSelected:function(t){this.img=window.URL.createObjectURL(t),null!=this.cropper&&this.cropper.destroy(),this.$nextTick(this.cropperIns)},onVideoSelected:function(t){console.log(t),this.videoData=t,this.video=window.URL.createObjectURL(t)},cropperIns:function(){var t=this,e=this.$refs.image;this.cropper=new u.a(e,{zoomable:!1,scalable:!1,crop:function(){t.canvas=t.cropper.getCroppedCanvas(),t.destination=t.canvas.toDataURL("image/png")}})},submitVid:function(){var t=this;this.loader=!0,this.uploadValue=0;var e=new Date,s=C.a.storage().ref(),a=s.child("Posts"+this.$store.state.uid+"/"+Object(_["a"])()+".mp4").put(this.videoData);a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(s){t.Picture=s;var a={content:t.content,timestamp:e.getTime(),date:e,likes:[],img:null,vid:s,comments:[],person:t.$store.state.uname,personID:t.$store.state.uid,personProfPic:t.$store.state.profPic,personGender:t.$store.state.gender};g.collection("project").add(a).then((function(){t.dialog=!1,t.loader=!1,t.$emit("projectAdded"),t.video="",t.videoData=""}))}))}))},submit:function(){var t=this;if(this.$refs.form.validate()){this.loader=!0;var e=new Date;this.uploadValue=0,this.Picture=null,this.selectedFile=this.canvas.toBlob((function(s){t.selectedFile=new File([s],"prof.png",{type:"image/png"});var a=C.a.storage().ref(),i=a.child("Posts"+t.$store.state.uid+"/"+Object(_["a"])()+".png").put(t.selectedFile);i.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,i.snapshot.ref.getDownloadURL().then((function(s){t.Picture=s;var a={content:t.content,timestamp:e.getTime(),date:e,likes:[],img:t.Picture,comments:[],person:t.$store.state.uname,personID:t.$store.state.uid,personProfPic:t.$store.state.profPic,personGender:t.$store.state.gender};g.collection("project").add(a).then((function(){t.dialog=!1,t.loader=!1,t.$emit("projectAdded"),t.img=""}))}))}))}))}}}},b=x,w=(s("f51c"),s("2877")),k=s("6544"),V=s.n(k),P=s("8336"),j=s("b0af"),$=s("99d9"),R=s("169a"),D=s("23a7"),I=s("0e8f"),L=s("4bd4"),S=s("132d"),M=s("a722"),T=s("0fd9"),A=s("a844"),F=Object(w["a"])(b,l,d,!1,null,"3a020ca7",null),B=F.exports;V()(F,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:R["a"],VFileInput:D["a"],VFlex:I["a"],VForm:L["a"],VIcon:S["a"],VLayout:M["a"],VRow:T["a"],VTextarea:A["a"]});var q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-1 pb-1"},[s("v-card",{staticClass:"overflow-y-auto mt-2",attrs:{flat:""}},[s("v-text-field",{staticClass:" pb-0 mb-0",attrs:{type:"text",placeholder:"Search Users...",label:"","append-icon":"mdi-account-search",rounded:"",color:""},on:{input:t.searchForUser},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),0!=t.searchresArray.length&&t.searchShow&&""!=t.searchValue?s("v-list",{staticClass:"pt-0",attrs:{"max-width":"229"}},t._l(t.searchresArray,(function(e,a){return s("v-list-item",{key:a,staticClass:"pa-0 mt-0 "},[s("v-list-item-avatar",{staticClass:"ml-1 mr-1 my-0",attrs:{color:"grey"}},[s("v-img",{staticClass:"profImg",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"},on:{click:function(s){return t.routeTo(e.id)}}})],1),s("v-list-item-title",{},[s("div",{staticClass:"grey--text body-1 text--darken-2 font-weight-bold text-si"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(e.email)+" ")])]),s("v-list-item-action",[0==e.requested&&0==e.accepted?s("v-btn",{attrs:{small:"",icon:""},on:{click:function(s){return t.sendRequest(e.id,a)}}},[s("v-icon",[t._v("mdi-account-plus")])],1):t._e(),1==e.requested&&0==e.accepted?s("v-btn",{attrs:{small:"",icon:""},on:{click:function(s){return t.cancelRequest(e.id,a)}}},[s("v-icon",{attrs:{color:"indigo"}},[t._v("mdi-account-plus")])],1):t._e(),0==e.requested&&1==e.accepted?s("v-btn",{attrs:{small:"",disabled:"",icon:""}},[s("v-icon",[t._v("mdi-account-check")])],1):t._e()],1)],1)})),1):t._e()],1)],1)},O=[],U=(s("4160"),s("caad"),s("2532"),s("159b"),{data:function(){return{searchShow:!1,searchValue:"",searchresArray:[],dummy:""}},methods:{routeTo:function(t){this.$router.push({path:"/othersProfile/"+t})},amIfriend:function(t){return!!t.includes(this.$store.state.uid)},searchForUser:function(){var t=this;""==this.searchValue?(this.searchShow=!1,this.searchresArray=[]):g.collection("users").where("name",">=",this.searchValue).where("name","<=",this.searchValue+"").get().then((function(e){t.searchresArray=[],e.docs.forEach((function(e){var s=e.data();s.name!=t.$store.state.uname&&(s.inRequests.includes(t.$store.state.uid)?s.requested=!0:s.requested=!1,s.friends.includes(t.$store.state.uid)?s.accepted=!0:s.accepted=!1,s.id=e.id,t.searchresArray.push(s))})),t.searchShow=!0}))},sendRequest:function(t,e){this.searchresArray[e].requested=!0,g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},cancelRequest:function(t,e){this.searchresArray[e].requested=!1,g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})}}}),E=U,z=(s("7655"),s("adda")),H=s("8860"),Y=s("da13"),N=s("1800"),G=s("8270"),K=s("5d23"),W=s("8654"),J=Object(w["a"])(E,q,O,!1,null,"420ebe91",null),Q=J.exports;V()(J,{VBtn:P["a"],VCard:j["a"],VIcon:S["a"],VImg:z["a"],VList:H["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemTitle:K["c"],VTextField:W["a"]});var Z={components:{popup:B,searchBar:Q},data:function(){return{up:!1,searchShow:!1,snackbar:!1,visible:!1,items:[{icon:"home",title:"Home",route:"/"},{icon:"person",title:"Profile",route:"/profile"},{icon:"people",title:"Friends",route:"/team"}]}},methods:{screenWidth:function(){return"xs"!=this.$vuetify.breakpoint.name&&"sm"!=this.$vuetify.breakpoint.name},backHome:function(){"home"!=this.$router.currentRoute.name&&this.$router.replace({path:"/"})},logout:function(){var t=this;C.a.auth().signOut().then((function(){t.$store.commit("changeUser",{uname:"",email:"",profPic:"",gender:""})})),this.$router.replace("/")}},computed:{userDetails:function(){return this.$store.state}},created:function(){}},X=Z,tt=(s("b674"),s("40dc")),et=s("8212"),st=s("a523"),at=s("e449"),it=s("f774"),ot=s("2db4"),rt=s("2fa4"),nt=s("2a7f"),ct=Object(w["a"])(X,n,c,!1,null,"f7eb1fb6",null),lt=ct.exports;V()(ct,{VAppBar:tt["a"],VAvatar:et["a"],VBtn:P["a"],VContainer:st["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VListItemTitle:K["c"],VMenu:at["a"],VNavigationDrawer:it["a"],VRow:T["a"],VSnackbar:ot["a"],VSpacer:rt["a"],VToolbarTitle:nt["a"]});var dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[s("v-flex",{staticClass:"mt-2",attrs:{xs12:"",sm8:"",md4:"",lg4:"","justify-center":""}},[t.login?s("v-card",{staticClass:"mt-5 ma-3",attrs:{width:"auto",elevation:"2"}},[s("v-card-title",{staticClass:"grey--text justify-center",attrs:{"primary-title":""}},[s("p",[s("span",{staticClass:"h6 font-weight-light"},[t._v("NEO")]),s("span",{staticClass:"h6 font-weight-bold"},[t._v("BOOK")]),s("span",{staticClass:"h6"},[t._v(" Login")])])]),s("v-card-text",{attrs:{"justify-center":""}},[s("v-form",[s("v-text-field",{attrs:{type:"email",label:"Email","prepend-icon":"mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{type:t.show?"text":"password","error-count":"",placeholder:"",label:"Password","prepend-icon":"lock","append-icon":t.show?"mdi-eye":"mdi-eye-off",color:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),""!=t.erro?s("v-alert",{staticClass:"pa-2",attrs:{type:"error"}},[t._v(" The email address or phone number that you've entered doesn't match any account. ")]):t._e(),s("v-card-actions",{staticClass:"justify-end mr-3"},[s("v-btn",{staticClass:"justify-end",attrs:{elevation:"",color:"success"},on:{click:t.Signin}},[s("v-icon",{attrs:{left:"",color:""}},[t._v("mdi-login-variant")]),t._v(" Login")],1)],1),s("v-subheader",{staticClass:"link",attrs:{"cursor:true":"",hover:""},on:{click:t.rou}},[t._v("Don't have an Account? Register")])],1)],1),s("v-card-actions")],1):t._e(),t.login?t._e():s("v-card",{staticClass:"mt-1 ma-3",attrs:{width:"auto",elevation:"2"}},[s("v-card-title",{staticClass:"grey--text justify-center",attrs:{"primary-title":""}},[s("p",[s("span",{staticClass:"h6 font-weight-light"},[t._v("NEO")]),s("span",{staticClass:"h6 font-weight-bold"},[t._v("BOOK")]),s("span",{staticClass:"h6"},[t._v(" Register")])])]),s("v-card-text",{attrs:{"justify-center":""}},[s("v-form",[s("v-text-field",{attrs:{type:"","error-count":"",placeholder:"",label:"UserName","prepend-icon":"person",color:""},model:{value:t.uname,callback:function(e){t.uname=e},expression:"uname"}}),s("v-text-field",{attrs:{type:"email","error-count":"",placeholder:"",label:"Email","prepend-icon":"mail",color:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-layout",{staticClass:"pa-0",attrs:{row:"","align-center":""}},[s("h3",{staticClass:"\n                  grey--text\n                  text--darken-2\n                  ml-3\n                  mb-5\n                  font-weight-regular\n                "},[t._v(" Gender: ")]),s("v-flex",[s("v-radio-group",{staticClass:"ml-3 mt-0",attrs:{row:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-radio",{attrs:{label:"Male",value:"male"}}),s("v-radio",{attrs:{label:"Female",value:"female"}})],1)],1)],1),s("v-text-field",{attrs:{type:t.show?"text":"password","error-count":"",placeholder:"",label:"Password","prepend-icon":"lock","append-icon":t.show?"mdi-eye":"mdi-eye-off",color:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-card-actions",{staticClass:"justify-end mr-3"},[s("v-btn",{staticClass:"justify-end",attrs:{elevation:"",color:"success"},on:{click:t.register}},[s("v-icon",{attrs:{left:"",color:""}},[t._v("mdi-account-plus")]),t._v(" Register")],1)],1),s("v-subheader",{staticClass:"link",on:{click:t.rou}},[t._v("Have an account? Login")])],1)],1),s("v-card-actions")],1)],1)],1)],1)},mt=[],ut={data:function(){return{uname:"",email:"",password:"",show:!1,gender:"",login:!0,erro:!1}},methods:{rou:function(){this.login=!this.login},error:function(){this.erro=!0},Signin:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.erro),C.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){e.$store.dispatch("Login",t)})).catch((function(){e.erro=!0,console.log("error",e.erro)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t={name:this.uname,email:this.email,password:this.password,gender:this.gender};this.$store.dispatch("Register",t)}}},pt=ut,vt=(s("2b58"),s("0798")),ft=s("67b6"),ht=s("43a6"),gt=s("e0c7"),yt=Object(w["a"])(pt,dt,mt,!1,null,"32b250b0",null),Ct=yt.exports;V()(yt,{VAlert:vt["a"],VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VFlex:I["a"],VForm:L["a"],VIcon:S["a"],VLayout:M["a"],VRadio:ft["a"],VRadioGroup:ht["a"],VSubheader:gt["a"],VTextField:W["a"]});var _t={components:{toolbar:lt,login:Ct},data:function(){return{logged:!1}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.a.auth().onAuthStateChanged((function(e){t.logged=!!e}));case 2:case"end":return e.stop()}}),e)})))()}},xt=_t,bt=(s("034f"),s("7496")),wt=s("f6c4"),kt=s("71d9"),Vt=Object(w["a"])(xt,i,o,!1,null,null,null),Pt=Vt.exports;V()(Vt,{VApp:bt["a"],VMain:wt["a"],VToolbar:kt["a"],VToolbarTitle:nt["a"]});s("45fc");var jt=s("8c4f"),$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.render?s("div",[s("v-layout",{staticClass:"d-flex justify-center",attrs:{row:"",wrap:""}},["sm"!=t.$vuetify.breakpoint.name&&"xs"!=t.$vuetify.breakpoint.name?s("v-flex",{attrs:{md3:"",lg3:""}},[s("v-card",{staticClass:"userDet my-4 mx-2"},[s("v-container",{staticClass:"justify-start"},[s("v-row",{attrs:{justify:"center"}},[s("v-avatar",{staticClass:"profAv align-center white lighten-2",attrs:{color:"grey",size:"180"}},[s("v-img",{attrs:{src:""!=t.$store.state.profPic?t.$store.state.profPic:"female"!=t.$store.state.gender?"/male_defDP.png":"/female_defDP.png"}})],1)],1),s("h2",{staticClass:"black--text text-h5"},[t._v(t._s(this.$store.state.uname))]),s("h4",{staticClass:"grey--text text--darken-1 body-1"},[t._v(" "+t._s(this.$store.state.email)+" ")]),s("h5",{staticClass:"grey--text text--darken-1 body-2"},[t._v(" Gender: "+t._s(this.$store.state.gender)+" ")])],1),s("div",{staticClass:"d-flex justify-center"},[s("PopUp")],1),s("Search")],1)],1):t._e(),s("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg6:"",xl4:"",color:"primary"}},[0==t.projects.length?s("v-card",{staticClass:"mt-15 postCard",attrs:{elevation:"","max-width":"550",height:"60"}},[s("v-card-text",{staticClass:"body-1 d-flex justify-center"},[t._v(" No Posts from friends!!!!")])],1):t._e(),t._l(t.projects,(function(e,a){return s("v-card",{key:a,staticClass:"postCard",attrs:{elevation:"","max-width":"550"}},[s("v-card-title",{staticClass:"pb-1 pt-2",attrs:{"primary-title":""}},[s("v-btn",{attrs:{large:"",width:"50",height:"50",icon:"",text:""},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.personID})}}},[s("v-avatar",{staticClass:"grey"},[s("v-img",{attrs:{src:""!=e.personProfPic?e.personProfPic:"male"!=e.personGender?"/female_defDP.png":"/male_defDP.png","lazy-src":"/acc.png"}})],1)],1),s("v-layout",{staticClass:"ml-2",attrs:{column:""}},[s("v-flex",{staticClass:"mb-0"},[s("span",{staticClass:"black--text"},[t._v(" "+t._s(e.person)+" ")])]),s("v-flex",[s("div",{staticClass:"grey--text text--darken-1 caption"},[t._v(" "+t._s(t.howLongPosted(e.date))+" ")])])],1),s("v-spacer"),s("v-menu",{attrs:{"offset-y":"","close-on-content-click":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"white"}},"v-btn",i,!1),a),[s("v-icon",{attrs:{color:"grey"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",{staticClass:"py-0"},[s("v-list-item",{},[s("SharePost",{attrs:{post:e}})],1)],1)],1)],1),s("v-card-text",{staticClass:"py-0"},[s("p",{staticClass:"mb-1 black--text"},[t._v(t._s(e.content))])]),s("v-divider",{}),s("v-card-text",{staticClass:"pa-0"},[null!=e.img?s("v-img",{staticClass:"postImg",attrs:{"max-height":"500",src:e.img},on:{click:function(s){return t.$router.push({path:"/postView/"+e.id})}}}):s("div",{staticClass:"c-video"},[null!=e.vid?s("video",{staticClass:"videoPlayer",attrs:{onMouseOver:"this.style.cursor='pointer'",loop:"",id:"video"+a,controls:e.playing},on:{click:function(s){return t.$router.push({path:"/postView/"+e.id})}}},[s("source",{attrs:{type:"video/mp4",src:e.vid}}),s("source",{attrs:{type:"video/ogv",src:e.vid}}),s("source",{attrs:{type:"video/webm",src:e.vid}})]):t._e(),null!=e.vid?s("div",{staticClass:"control"},[e.playing?t._e():s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{size:"60",color:"white"},on:{click:function(e){return t.playVid(a)}}},[t._v("mdi-play-circle-outline")])],1):t._e()])],1),s("v-card-actions",{staticClass:"py-0"},[s("v-container",{staticClass:"py-0"},[s("v-col",{staticClass:"pl-2 py-1"},[s("v-row",{staticClass:"px-3 py-1 d-flex justify-space-between"},[s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.likes.length)+" "),s("LikesList",{attrs:{likes:e.likes}})],1),s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.comments.length)+" "),s("Comments",{attrs:{comments:e.comments,postId:e.id}})],1)]),s("v-divider",{}),s("div",{staticClass:"d-flex justify-space-around mt-2"},[e.iliked?t._e():s("v-icon",{on:{click:function(s){return t.likePost(e.id,a)}}},[t._v("mdi-heart-outline")]),e.iliked?s("v-icon",{attrs:{color:"red"},on:{click:function(s){return t.unlikePost(e.id,a)}}},[t._v("mdi-heart")]):t._e(),e.writeComment?t._e():s("v-icon",{attrs:{color:""},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text-outline")]),e.writeComment?s("v-icon",{attrs:{color:"indigo"},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text")]):t._e()],1)],1)],1)],1),e.writeComment?s("v-divider",{}):t._e(),e.writeComment?s("v-row",{staticClass:"mx-2 mt-4"},[s("v-textarea",{staticClass:"heading",attrs:{autofocus:"","auto-grow":"","clear-icon":"",rounded:"",solo:"",rows:"1",placeholder:"Add a comment"},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),s("v-btn",{staticClass:"mt-1",attrs:{text:"",disabled:""==t.myComment,color:"indigo"},on:{click:function(s){return t.sendComment(e.id)}}},[t._v(" post")])],1):t._e()],1)}))],2),"xs"!=t.$vuetify.breakpoint.name&&"sm"!=t.$vuetify.breakpoint.name?s("v-flex",{staticClass:"chatList mt-4",attrs:{md3:"",lg3:""}},[s("Chat")],1):t._e()],1)],1):t._e()},Rt=[],Dt=(s("4de4"),s("c740"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{disabled:0==this.likes.length,"max-width":"500px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("a",t._g(t._b({staticClass:"ml-2",attrs:{text:"",color:""}},"a",i,!1),a),[t._v(" "+t._s(t.like)+" ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.render?t._e():s("v-progress-circular",{attrs:{color:"grey"}}),t.render?s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{attrs:{justify:"space-between"}},[s("div",[t._v("Likes")]),s("v-icon",{attrs:{color:""},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1)],1),s("v-divider"),s("v-card",{staticClass:"overflow-y-auto d-flex flex-column-reverse",attrs:{"max-height":"500"}},t._l(t.likeDet,(function(e,a){return s("v-list-item",{key:a},[s("v-list-item-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",[s("div",{staticClass:" body-1 font-weight-medium"},[t._v(t._s(e.name))]),s("div",{staticClass:" caption font-weight-medium"},[t._v(t._s(e.email))])]),e.name!=t.$store.state.uname?s("v-list-item-action",{staticClass:"mr-8"},[0==e.requested&&0==e.accepted?s("v-btn",{staticClass:"grey lighten-1",attrs:{depressed:"",small:""},on:{click:function(s){return t.sendRequest(e.id,a)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" Request ")],1):t._e(),1==e.requested&&0==e.accepted?s("v-btn",{staticClass:"grey lighten-1",attrs:{small:"",depressed:""},on:{click:function(s){return t.cancelRequest(e.id,a)}}},[s("v-icon",{attrs:{left:"",color:"indigo"}},[t._v("mdi-account-plus")]),t._v(" cancel ")],1):t._e(),0==e.requested&&1==e.accepted?s("v-btn",{staticClass:"grey lighten-1",attrs:{small:"",depressed:"",disabled:""}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-account-multiple")]),t._v(" Friends ")],1):t._e()],1):t._e()],1)})),1)],1):t._e()],1)],1)}),It=[],Lt={props:{likes:Array},data:function(){return{reload:0,dialog:!1,likeDet:[],render:!1}},methods:{sendRequest:function(t,e){this.likeDet[e].requested=!0,g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},cancelRequest:function(t,e){this.likeDet[e].requested=!1,g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})}},watch:{likes:function(){var t=this;this.likeDet=[],0!=this.likes.length&&g.collection("users").get().then((function(e){e.docs.forEach((function(e){if(t.likes.includes(e.id)){var s=e.data();s.inRequests.includes(t.$store.state.uid)?s.requested=!0:s.requested=!1,s.friends.includes(t.$store.state.uid)?s.accepted=!0:s.accepted=!1,s.id=e.id,t.likeDet.push(s)}})),t.render=!0}))}},computed:{like:function(){return 1==this.likes.length?"like":"likes"}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0!=t.likes.length&&g.collection("users").get().then((function(e){e.docs.forEach((function(e){if(t.likes.includes(e.id)){var s=e.data();s.inRequests.includes(t.$store.state.uid)?s.requested=!0:s.requested=!1,s.friends.includes(t.$store.state.uid)?s.accepted=!0:s.accepted=!1,s.id=e.id,t.likeDet.push(s)}})),t.render=!0}));case 1:case"end":return e.stop()}}),e)})))()}},St=Lt,Mt=s("ce7e"),Tt=s("490a"),At=Object(w["a"])(St,Dt,It,!1,null,"6629fcc6",null),Ft=At.exports;V()(At,{VBtn:P["a"],VCard:j["a"],VCardTitle:$["c"],VDialog:R["a"],VDivider:Mt["a"],VIcon:S["a"],VImg:z["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemTitle:K["c"],VProgressCircular:Tt["a"],VRow:T["a"]});var Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showChat,expression:"showChat"}],staticClass:"chatRoom"},[s("v-container",{staticClass:"py-0"},[s("v-row",{staticClass:"d-flex justify-space-between"},[s("v-list",{staticClass:"mx-1 py-0"},[s("v-list-item",[s("v-list-item-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:""!=t.chatRoom.pic?t.chatRoom.pic:"male"!=t.chatRoom.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",[t._v(t._s(t.chatRoom.name))])],1)],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showChat=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-divider",{staticClass:"grey lighten-2"}),s("v-card",{staticClass:"chating overflow-y-auto d-flex flex-column-reverse",attrs:{flat:"","align-end":"",height:"461"}},[s("div",{attrs:{id:"scroller"}}),t._l(t.messList,(function(e){return s("div",{key:e.timestamp},[t.messSeen(e,t.chatRoom.id)?s("div",[""==e.message&&null==e.post?s("div",{staticClass:"d-flex justify-center"},[s("v-chip",{staticClass:"caption py-0 grey lighten-2",attrs:{color:""}},[t._v(" "+t._s(e.date)+" ")])],1):t._e(),null!=e.post?s("div",{staticClass:"d-flex justify-center"},[e.sentBy==t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-end"},[s("v-card",{staticClass:"my-0",attrs:{dark:"","max-width":"150","max-height":"210",color:"indigo darken-2"},on:{click:function(s){return t.$router.push({path:"/postView/"+e.post.id})}}},[s("v-list-item",{staticClass:"px-1 my-0 py-0"},[s("v-list-item-avatar",{staticClass:"mr-2 my-0",attrs:{color:"grey",size:"30"}},[s("v-img",{attrs:{src:""!=e.post.personProfPic?e.post.personProfPic:"/male_defDP.png",alt:""}})],1),s("v-list-item-title",{staticClass:"caption pl-0"},[t._v(t._s(e.post.person))])],1),null!=e.post.img?s("v-img",{attrs:{height:"120",src:e.post.img}}):s("div",{staticClass:"c-video"},[null!=e.post.vid?s("video",{staticClass:"videoPlayer"},[s("source",{attrs:{type:"video/ogv",src:e.post.vid}}),s("source",{attrs:{type:"video/webm",src:e.post.vid}})]):t._e(),null!=e.post.vid?s("div",{staticClass:"control"},[s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{large:"",color:"white"}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-card-actions",{staticClass:"pb-0"},[s("p",{staticClass:"my-0 text-truncate",staticStyle:{"max-width":"150px","font-size":"10px"}},[t._v(" "+t._s(e.post.content)+" ")])]),s("v-row",{staticClass:"mr-2 ml-2 pb-0",attrs:{justify:"end"}},[s("p",{staticStyle:{"font-size":"8px"}},[t._v(t._s(e.time))])])],1)],1):t._e(),e.sentBy!=t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-start"},[s("v-card",t._g(t._b({staticClass:"my-0",attrs:{dark:"",width:"150","max-height":"210",color:"grey darken-2"},on:{click:function(s){return t.$router.push({path:"/postView/"+e.post.id})}}},"v-card",t.attrs,!1),t.on),[s("v-list-item",{staticClass:"px-1 my-0 py-0"},[s("v-list-item-avatar",{staticClass:"mr-2 my-0",attrs:{color:"grey",size:"30"}},[s("v-img",{attrs:{src:""!=e.post.personProfPic?e.post.personProfPic:"/male_defDP.png",alt:""}})],1),s("v-list-item-title",{staticClass:"caption pl-0"},[t._v(t._s(e.post.person))])],1),null!=e.post.img?s("v-img",{attrs:{height:"120",src:e.post.img}}):s("div",{staticClass:"c-video1"},[null!=e.post.vid?s("video",{staticClass:"videoPlayer1"},[s("source",{attrs:{type:"video/ogv",src:e.post.vid}}),s("source",{attrs:{type:"video/webm",src:e.post.vid}})]):t._e(),null!=e.post.vid?s("div",{staticClass:"control1"},[s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{large:"",color:"white"}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-card-actions",[s("p",{staticClass:"my-0 text-truncate",staticStyle:{"max-width":"150px","font-size":"10px"}},[t._v(" "+t._s(e.post.content)+" ")])]),s("v-row",{staticClass:"mr-2 ml-2 pb-0",attrs:{justify:"end"}},[s("p",{staticStyle:{"font-size":"8px"}},[t._v(t._s(e.time))])])],1)],1):t._e()],1):t._e(),""!=e.message?s("div",[e.sentBy==t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-end"},[s("v-card",{staticClass:"message indigo darken-2 pt-1 px-3",attrs:{flat:"","max-width":"200",dark:""}},[s("p",{staticClass:"ma-0 body-2 d-flex justify-end"},[t._v(" "+t._s(e.message)+" ")]),s("p",{staticClass:"mb-0 d-flex justify-end",staticStyle:{"font-size":"8px"}},[t._v(" "+t._s(e.time)+" ")])])],1):t._e(),e.sentBy!=t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-start"},[s("v-card",{staticClass:"message grey darken-1 pt-1 px-3",attrs:{flat:"",outlined:"","max-width":"200",dark:""}},[s("p",{staticClass:"ma-0 body-2 d-flex justify-start"},[t._v(" "+t._s(e.message)+" ")]),s("p",{staticClass:"mb-0 d-flex justify-start",staticStyle:{"font-size":"8px"}},[t._v(" "+t._s(e.time)+" ")])])],1):t._e()],1):t._e()]):t._e()])}))],2),s("v-divider",{}),s("v-card",{staticClass:"px-2",attrs:{flat:"","max-height":"41"}},[s("v-row",[s("v-text-field",{staticClass:"mx-2",attrs:{dense:"",type:"",solo:"","error-count":"",placeholder:"",label:"",outlined:"",color:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("v-btn",{staticClass:"mr-1",attrs:{disabled:""==t.message,large:"",color:"indigo",icon:""},on:{click:function(e){return t.sendMessage(t.chatRoom.id)}}},[s("v-icon",[t._v("mdi-send")])],1)],1)],1)],1),s("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.showChat,expression:"!showChat"}],staticClass:"chatTileList"},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-menu",{staticClass:"ma-0",attrs:{"offset-overflow":"","close-on-content-click":t.menu},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{large:"",text:""}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-magnify")]),t._v(" Search USer... ")],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-list",{staticClass:"searchList pa-0 ma-0",attrs:{dense:""}},[s("v-list-item",{staticClass:"ma-0 pa-0"},[s("v-text-field",{staticClass:"mt-2",attrs:{autofocus:"",type:"text",placeholder:"",label:"","append-icon":"mdi-account-search",dense:"",rounded:"",color:"indigo"},on:{input:t.searchForUser},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._l(t.searchresArray,(function(e,a){return s("v-list-item",{key:a,staticClass:"searchTile",attrs:{"v-if":0!=t.searchresArray.length&&""!=t.searchValue&&t.searchShow},on:{click:function(e){return t.searchOpenChatRoom(a)}}},[s("v-list-item-avatar",{attrs:{size:"45"}},[s("v-img",{staticClass:"profImg",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",{},[s("div",{staticClass:"grey--text text-body-1 text--darken-2 font-weight-bold"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(e.email)+" ")])])],1)}))],2)],1)],1),s("v-divider",{attrs:{"v-if":0!=t.chatRooms.length}}),s("v-card-text",[s("v-card",{staticClass:"chatList pa-0 overflow-y-auto",attrs:{height:"420",flat:""}},t._l(t.chatRooms,(function(e,a){return s("v-list-item",{key:a,staticClass:"searchTile py-0",on:{click:function(s){return t.openChatRoom(a,e.chatRoomID)}}},[s("v-list-item-avatar",{attrs:{color:"grey",size:"50"}},[s("v-img",{staticClass:"profImg",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",{staticClass:"px-3"},[s("v-row",{attrs:{justify:"space-between"}},[s("div",{staticClass:"grey--text body-1 text--darken-2 font-weight-bold"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"caption grey--text"},[t._v(t._s(e.time))])]),s("v-row",[e.sentBy==t.$store.state.uid?s("v-icon",{attrs:{small:"",color:""}},[t._v("check")]):t._e(),s("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(e.lastMess)+" ")])],1)],1)],1)})),1)],1)],1)],1)},qt=[],Ot=(s("7db0"),{components:{},data:function(){return{showChat:!1,menu:!1,postdialog:!1,searchresArray:[],searchValue:"",chatRooms:[],chatRoom:{},messList:[],message:"",searchShow:!1}},methods:{messSeen:function(t,e){if(void 0!=t.id&&t.sentBy!=this.$store.state.uid){var s={};s["seenby"+this.$store.state.uid]=!0,g.collection("chatRooms").doc(e).update(s),g.collection("chatRooms").doc(e).collection("chats").doc(t.id).update({seenby:!0})}return!0},searchOpenChatRoom:function(t){var e=this,s=[this.searchresArray[t].id,this.$store.state.uid];s.sort();var a=s[0]+"_"+s[1],i=this.chatRooms.find((function(t){return t.chatRoomID==a}));void 0==i&&g.collection("chatRooms").doc(a).set({names:s,timestamp:0,lastMess:"",date:0,sentBy:""}),this.menu=!1,this.chatRoom={},this.messList=[],this.chatRoom.pic=this.searchresArray[t].profPic,this.chatRoom.name=this.searchresArray[t].name,this.chatRoom.gender=this.searchresArray[t].gender,this.chatRoom.id=a,this.showChat=!0,g.collection("chatRooms").doc(a).collection("chats").orderBy("timestamp").onSnapshot((function(t){var s=t.docChanges();s.forEach((function(t){if("added"===t.type){var s=t.doc.data(),a=s.date.toDate();parseInt(a.getHours())>12?(s.time=String(parseInt(a.getHours())-12)+":",a.getMinutes()>=10?s.time=s.time+a.getMinutes():s.time=s.time+"0"+a.getMinutes(),s.time=String(s.time)+" PM"):(s.time=a.getHours()+":",a.getMinutes()>=10?s.time=s.time+a.getMinutes():s.time=s.time+"0"+a.getMinutes(),s.time=String(s.time)+" AM"),0!=e.messList.length?a.getDate()!=e.messList[0].date.toDate().getDate()&&e.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}):e.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}),e.messList.length>0?e.messList[0].timestamp!=s.timestamp&&e.messList.unshift(s):e.messList.unshift(s)}}))})),this.searchValue="",this.searchresArray=[]},sendMessage:function(t){var e=new Date;g.collection("chatRooms").doc(t).collection("chats").add({message:this.message,sentBy:this.$store.state.uid,timestamp:e.getTime(),hour:e.getHours(),minute:e.getMinutes(),imageurl:"",post:null,date:e,seenby:!1}),g.collection("chatRooms").doc(t).update({lastMess:this.message,timestamp:e.getTime(),hour:e.getHours(),minute:e.getMinutes(),date:e,sentBy:this.$store.state.uid});var s={},a="seenby"+t.replaceAll("_","").replaceAll(this.$store.state.uid,"");s[a]=!1,s["seenby"+this.$store.state.uid]=!0,g.collection("chatRooms").doc(t).update(s),this.message="";var i=this.chatRooms.filter((function(e){return e.chatRoomID!==t}));this.chatRooms=i},openChatRoom:function(t,e){var s=this;this.chatRoom={},this.messList=[],this.chatRoom.pic=this.chatRooms[t].profPic,this.chatRoom.name=this.chatRooms[t].name,this.chatRoom.gender=this.chatRooms[t].gender,this.chatRoom.id=this.chatRooms[t].chatRoomID,this.showChat=!0,g.collection("chatRooms").doc(e).collection("chats").orderBy("timestamp").onSnapshot((function(t){var e=t.docChanges();e.forEach((function(t){if("added"===t.type){var e=t.doc.data();e.id=t.doc.id;var a=e.date.toDate();parseInt(a.getHours())>12?(e.time=String(parseInt(a.getHours())-12)+":",a.getMinutes()>=10?e.time=e.time+a.getMinutes():e.time=e.time+"0"+a.getMinutes(),e.time=String(e.time)+" PM"):(e.time=a.getHours()+":",a.getMinutes()>=10?e.time=e.time+a.getMinutes():e.time=e.time+"0"+a.getMinutes(),e.time=String(e.time)+" AM"),0!=s.messList.length?a.getDate()!=s.messList[0].date.toDate().getDate()&&s.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}):s.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}),s.messList.length>0?s.messList[0].timestamp!=e.timestamp&&s.messList.unshift(e):s.messList.unshift(e)}}))}))},searchForUser:function(){var t=this;""==this.searchValue?(this.searchShow=!1,this.searchresArray=[]):(this.menu=!0,g.collection("users").where("name",">=",this.searchValue).where("name","<=",this.searchValue+"").get().then((function(e){t.searchresArray=[],0!=e.size&&e.docs.forEach((function(e){var s=e.data();s.id=e.id,s.name!=t.$store.state.uname&&t.searchresArray.push(s)}))})))}},created:function(){var t=this;g.collection("chatRooms").orderBy("timestamp").onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if(e.doc.data().names.includes(t.$store.state.uid)){var s=e.doc,a="";a=s.data().names[0]==t.$store.state.uid?s.data().names[1]:s.data().names[0],g.collection("users").doc(a).get().then((function(a){var i=a.data();if(i.chatRoomID=s.id,0!=s.data().timestamp){i.lastMess=s.data().lastMess,i.sentBy=s.data().sentBy;var o=s.data().date.toDate(),r=new Date,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(o.getFullYear()==r.getFullYear()&&o.getMonth()==r.getMonth()?o.getDate()==r.getDate()?parseInt(o.getHours())>12?(i.time=String(parseInt(o.getHours())-12)+":",o.getMinutes()>=10?i.time=i.time+o.getMinutes():i.time=i.time+"0"+o.getMinutes(),i.time=String(i.time)+" PM"):(i.time=o.getHours()+":",o.getMinutes()>=10?i.time=i.time+o.getMinutes():i.time=i.time+"0"+o.getMinutes(),i.time=String(i.time)+" AM"):parseInt(r.getDate())-parseInt(o.getDate())<=6?parseInt(r.getDate())-parseInt(o.getDate())==1?i.time="yesterday":i.time=n[parseInt(o.getDay())]:i.time=o.getDate()+"/"+String(parseInt(o.getMonth())+1)+"/"+String(o.getFullYear()).substring(2,4):i.time=o.getDate()+"/"+String(parseInt(o.getMonth())+1)+"/"+String(o.getFullYear()).substring(2,4),"modified"==e.type){var c=t.chatRooms.filter((function(t){return t.chatRoomID!=i.chatRoomID}));t.chatRooms=c}t.chatRooms.unshift(i)}}))}}))}))}}),Ut=Ot,Et=(s("728a"),s("cc20")),zt=Object(w["a"])(Ut,Bt,qt,!1,null,"6785be49",null),Ht=zt.exports;V()(zt,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VChip:Et["a"],VContainer:st["a"],VDivider:Mt["a"],VIcon:S["a"],VImg:z["a"],VList:H["a"],VListItem:Y["a"],VListItemAvatar:G["a"],VListItemTitle:K["c"],VMenu:at["a"],VRow:T["a"],VTextField:W["a"]});var Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{disabled:0==this.comments.length,"max-width":"500px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("a",t._g(t._b({staticClass:"ml-2",attrs:{text:"",color:""}},"a",i,!1),a),[t._v(" comments ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.render?t._e():s("v-progress-circular",{attrs:{color:"grey"}}),t.render?s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{attrs:{justify:"space-between"}},[s("div",[t._v("Comments")]),s("v-icon",{attrs:{color:""},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"pb-0 pt-2"},[s("v-card",{staticClass:"repliesCard px-2 mb-1 overflow-y-auto d-flex flex-column-reverse",attrs:{flat:"","max-height":"350"}},[s("v-list",{staticClass:"my-0 py-0"},t._l(t.comments,(function(e,a){return s("div",{key:a},[s("v-list-item",{staticClass:"ccc my-0 py-0"},[s("v-list-item-avatar",{attrs:{size:"40"}},[s("v-img",{attrs:{onMouseOver:"this.style.cursor='pointer'",src:""!=t.commenterData[e.sentBy].profPic?t.commenterData[e.sentBy].profPic:"male_defDP.png"},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.sentBy})}}})],1),s("v-list-item-content",{staticClass:"py-1"},[s("v-list-item-title",[s("span",{staticClass:"body-1"},[t._v(t._s(t.commenterData[e.sentBy].name))]),s("span",{staticClass:"caption"},[t._v(" "+t._s(e.comment))])]),s("v-list-item-subtitle",{staticClass:"pl-3"},[s("v-row",[s("v-icon",{attrs:{small:"",color:""},on:{click:function(s){t.replyIndex=a,t.myReply="@"+t.commenterData[e.sentBy].name}}},[t._v("mdi-share")]),s("a",{directives:[{name:"show",rawName:"v-show",value:0!=e.replyComments.length,expression:"comment.replyComments.length!=0"}],staticClass:"caption ml-1 grey--text text--darken-2",on:{click:function(e){t.comments[a].replies=!t.comments[a].replies,t.$forceUpdate()}}},[t._v("replies...")])],1)],1)],1),s("v-list-item-action",[t._v(t._s(t.howLongPosted(e.date)))])],1),s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.comments[a].replies,expression:"comments[index].replies"}],staticClass:"mr-1 repliesCard overflow-y-auto",attrs:{flat:"","max-height":"160"}},[s("v-list",{staticClass:"ml-14 py-0 my-0"},t._l(e.replyComments,(function(e,i){return s("div",{key:i},[s("v-list-item",{staticClass:"ccc mb-2"},[s("v-list-item-avatar",{attrs:{size:"30"}},[s("v-img",{attrs:{onMouseOver:"this.style.cursor='pointer'",src:""!=t.commenterData[e.sentBy].profPic?t.commenterData[e.sentBy].profPic:"male_defDP.png"},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.sentBy})}}})],1),s("v-list-item-content",{staticClass:"py-0"},[s("v-list-item-title",[s("span",{staticClass:"body-1"},[t._v(t._s(t.commenterData[e.sentBy].name))]),s("span",{staticClass:"caption"},[t._v(" "+t._s(e.comment))])]),s("v-list-item-subtitle",{staticClass:"pl-3"},[s("v-row",[s("v-icon",{attrs:{small:"",color:""},on:{click:function(s){t.replyIndex=a,t.myReply="@"+t.commenterData[e.sentBy].name}}},[t._v("mdi-share")])],1)],1)],1),s("v-list-item-action",{staticClass:"mr-4"},[t._v(t._s(t.howLongPosted(e.date)))])],1)],1)})),0)],1)],1)})),0)],1)],1),s("v-divider",{}),s("v-card-actions",{staticClass:"mt-3 mx-2 ml-6"},[""==this.myReply?s("v-row",{},[s("v-textarea",{attrs:{autofocus:"",solo:"",rounded:"",placeholder:"Add a comment",rows:"1","auto-grow":"",color:""},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),s("v-btn",{staticClass:"mt-2",attrs:{disabled:""==t.myComment,text:"",color:"indigo"},on:{click:function(e){return t.sendComment()}}},[t._v(" post")])],1):s("v-row",{},[s("v-textarea",{attrs:{autofocus:"",solo:"",rounded:"","append-icon":"mdi-close",placeholder:"Add a Reply",rows:"1","auto-grow":"",color:""},on:{"click:append":function(e){t.replyIndex="",t.myReply=""}},model:{value:t.myReply,callback:function(e){t.myReply=e},expression:"myReply"}}),s("v-btn",{staticClass:"mt-2",attrs:{disabled:""==t.myReply,text:"",color:"indigo"},on:{click:function(e){return t.replyComment()}}},[t._v(" post")])],1)],1)],1):t._e()],1)],1)},Nt=[],Gt={props:{comments:Array,postId:String},data:function(){return{reply:"",myReply:"",replyIndex:"",render:!0,dialog:!1,myComment:"",Arr:[],commenterData:{}}},methods:{replyComment:function(){var t=new Date,e={comment:this.myReply,sentBy:this.$store.state.uid,timestamp:t.getTime(),date:t};this.comments[this.replyIndex].replyComments.push(e),g.collection("project").doc(this.postId).update({comments:this.comments}),this.myReply="",this.replyIndex=""},sendComment:function(){var t=new Date,e={comment:this.myComment,replyComments:[],sentBy:this.$store.state.uid,timestamp:t.getTime(),date:t};g.collection("project").doc(this.postId).update({comments:C.a.firestore.FieldValue.arrayUnion(e)}),this.myComment=""},howLongPosted:function(t){var e=t.toDate(),s=new Date,a=(s.getTime()-e.getTime())/36e5;return a<1?0==Math.floor(60*a)?"just now":Math.floor(60*a)+"m ago":a>24?a/24>30?String(e).substring(4,15):Math.floor(a/24)+"d ago":Math.floor(a)+"h ago"}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comments.forEach((function(t){t.replies=!1})),t.render=!1,t.comments.sort((function(t,e){return t.timestamp>e.timestamp?1:-1})),g.collection("users").get().then((function(e){e.docs.forEach((function(e){var s=e.id,a=e.data();t.commenterData[s]=a})),t.render=!0}));case 4:case"end":return e.stop()}}),e)})))()}},Kt=Gt,Wt=(s("a276"),Object(w["a"])(Kt,Yt,Nt,!1,null,"034020a8",null)),Jt=Wt.exports;V()(Wt,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:R["a"],VDivider:Mt["a"],VIcon:S["a"],VImg:z["a"],VList:H["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VProgressCircular:Tt["a"],VRow:T["a"],VTextarea:A["a"]});var Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("div",t._g(t._b({},"div",i,!1),a),[s("v-icon",{attrs:{left:"",color:""}},[t._v("mdi-share")]),s("span",[t._v("Share post")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",[t._v("Share Post")]),s("v-spacer"),s("v-icon",{attrs:{color:""},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("mdi-close")])],1),s("v-card-text",[s("v-textarea",{staticClass:" heading",attrs:{autofocus:"","auto-grow":"","clear-icon":"",rounded:"",rows:"1",placeholder:"Say something about this , "+this.$store.state.uname+"????","prepend-inner-icon":"edit"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("v-text-field",{attrs:{dense:"",rounded:"",placeholder:"Search for Users","append-icon":"",outlined:"",color:""},on:{input:function(e){return t.searchforUsers()}},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),s("v-card",{staticClass:"overflow-y-auto d-flex flex-column",attrs:{flat:"",height:"300"}},[s("v-list",t._l(t.list,(function(e,a){return s("v-list-item",{key:a},[s("v-list-item-avatar",{attrs:{color:"grey"}},[s("v-img",{attrs:{src:""!=e.data().profPic?e.data().profPic:"male"!=e.data().gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.data().name)+" ")]),s("v-list-item-subtitle",[t._v(t._s(e.data().email)+" ")])],1),s("v-list-item-action",{staticClass:"mr-4"},[s("v-icon",{on:{click:function(s){return t.sendPost(e.id)}}},[t._v("mdi-send")])],1)],1)})),1)],1)],1)],1)],1)],1)},Zt=[],Xt={props:{post:Object},data:function(){return{dialog:!1,friends:[],searchUsers:[],searchVal:"",message:""}},methods:{sendPost:function(t){console.log(t);var e="";e=t<this.$store.state.uid?t+"_"+this.$store.state.uid:this.$store.state.uid+"_"+t;var s=[t,this.$store.state.uid],a=new Date;console.log(e,this.post_id),g.collection("chatRooms").doc(e).collection("chats").add({message:this.message,timestamp:a.getTime(),post:this.post,date:a,sentBy:this.$store.state.uid}),g.collection("chatRooms").doc(e).set({lastMess:""==this.message?"Shared a Post":this.message,timestamp:a.getTime(),date:a,names:s,sentBy:this.$store.state.uid})},searchforUsers:function(){var t=this;this.searchUsers=[],g.collection("users").where("name",">=",this.searchVal).where("name","<=",this.searchVal+"").get().then((function(e){t.searchUsers=e.docs,console.log(e.docs)}))}},computed:{list:function(){return""==this.searchVal?this.friends:this.searchUsers}},mounted:function(){var t=this;g.collection("users").where("friends","array-contains",this.$store.state.uid).get().then((function(e){console.log(e.docs),t.friends=e.docs}))}},te=Xt,ee=Object(w["a"])(te,Qt,Zt,!1,null,"43461110",null),se=ee.exports;V()(ee,{VCard:j["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:R["a"],VIcon:S["a"],VImg:z["a"],VList:H["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VSpacer:rt["a"],VTextField:W["a"],VTextarea:A["a"]});var ae={name:"Home",components:{LikesList:Ft,Search:Q,PopUp:B,Chat:Ht,Comments:Jt,SharePost:se},data:function(){return{projects:[],myComment:"",j:"",render:!1}},methods:{playVid:function(t){var e=document.getElementById("video"+String(t));e.paused&&(e.play(),this.projects[t].playing=!0,e.muted=!0)},sendComment:function(t){var e=new Date,s={comment:this.myComment,replyComments:[],sentBy:this.$store.state.uid,timestamp:e.getTime(),date:e};g.collection("project").doc(t).update({comments:C.a.firestore.FieldValue.arrayUnion(s)}),this.myComment=""},sortBy:function(t){this.projects.sort((function(e,s){return e[t]<s[t]?-1:1}))},howLongPosted:function(t){var e=t.toDate(),s=new Date,a=(s.getTime()-e.getTime())/36e5;return a<1?0==Math.floor(60*a)?"just now":Math.floor(60*a)+" m":a>24?a/24>30?String(e).substring(4,15):Math.floor(a/24)+" d":Math.floor(a)+" h"},likePost:function(t,e){this.projects[e].iliked=!0,this.projects[e].likes.push(this.$store.state.uid),g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},unlikePost:function(t,e){var s=this;this.projects[e].iliked=!1,this.projects[e].likes=this.projects[e].likes.filter((function(t){return t!=s.$store.state.uid})),g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})},arrayRemove:function(t,e){return t.filter((function(t){return t!=e}))},checkliked:function(t){return!!t.includes(this.$store.state.uid)}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"sm"==t.$vuetify.breakpoint.name&&"xs"==t.$vuetify.breakpoint.name?t.j="center":t.j="start",g.collection("users").doc(t.$store.state.uid).get().then((function(e){g.collection("project").orderBy("timestamp").onSnapshot((function(s){var a=s.docChanges();console.log(a),0==a.length&&(t.render=!0),a.forEach((function(s){if("modified"===s.type){var a=t.projects.findIndex((function(t){return t.id===s.doc.id}));t.projects[a].comments.length!=s.doc.data().comments&&(t.projects[a].comments=s.doc.data().comments),t.projects[a].likes.length!=s.doc.data().likes&&(t.projects[a].likes=s.doc.data().likes,t.projects[a].likes.includes(t.$store.state.uid)?t.projects[a].iliked=!0:t.projects[a].iliked=!1)}if("added"===s.type){var i=s.doc.data();i.id=s.doc.id,i.playing=!1,e.data().friends.includes(i.personID)&&(i.likes.includes(t.$store.state.uid)?i.iliked=!0:i.liked=!1,i.writeComment=!1,t.projects.unshift(i))}if("removed"===s.type){var o=s.doc.id;t.projects=t.projects.filter((function(t){return t.id!=o}))}t.render=!0}))}))}));case 2:case"end":return e.stop()}}),e)})))()},computed:{userDetails:function(){return this.$store.state}}},ie=ae,oe=(s("6f4f"),s("62ad")),re=Object(w["a"])(ie,$t,Rt,!1,null,"10b2304c",null),ne=re.exports;V()(re,{VAvatar:et["a"],VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VCol:oe["a"],VContainer:st["a"],VDivider:Mt["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VMenu:at["a"],VRow:T["a"],VSpacer:rt["a"],VTextarea:A["a"]});var ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.render?s("div",[s("v-snackbar",{attrs:{bottom:""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.psnackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}],null,!1,1088386718),model:{value:t.psnackbar,callback:function(e){t.psnackbar=e},expression:"psnackbar"}},[t._v(" Yayy! Profile Pic Updated ")]),s("v-snackbar",{attrs:{bottom:""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.csnackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}],null,!1,4149657485),model:{value:t.csnackbar,callback:function(e){t.csnackbar=e},expression:"csnackbar"}},[t._v(" Yayy! Cover Pic Updated ")]),s("v-layout",{staticClass:"px-0",attrs:{"justify-center":""}},[s("v-flex",{attrs:{sm12:"",xs12:"",lg12:"",md12:""}},[s("v-card",{staticClass:"my-4 mb-8"},[s("v-container",{staticClass:"justify-center py-1 pb-4"},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{staticClass:"cover fill-height mx-1 my-2",attrs:{"aspect-ratio":3.2,src:""==t.cov?"defCover1.png":t.cov}},[s("v-row",{staticClass:" fill-height"},[s("v-col",{staticClass:"hello"},[s("div",{staticClass:"px-4"})]),s("v-col",{staticClass:"ppic pb-0 d-flex align-end"},[s("v-avatar",{staticClass:"profAv align-center white lighten-2 ",attrs:{color:"grey",size:"200"}},[s("v-img",{attrs:{src:""!=t.$store.state.profPic?t.$store.state.profPic:"female"!=t.$store.state.gender?"/male_defDP.png":"/female_defDP.png"}})],1),s("ImageCropper",{on:{ProfilePicupdated:function(e){t.psnackbar="true"}}})],1),s("v-col",{staticClass:"d-flex"},[s("v-row",{staticClass:"mb-6",attrs:{justify:"end"}},[s("CoverCropper",{on:{CoverPicupdated:function(e){t.csnackbar="true"}}})],1)],1)],1)],1)],1),s("h1",{staticClass:" text-capitalize black--text mt-4"},[t._v(t._s(this.$store.state.uname))]),s("h3",{staticClass:"grey--text text--darken-3"},[t._v("email id: "+t._s(this.$store.state.email))]),s("h4",{staticClass:"grey--text text--darken-3"},[t._v("Gender: "+t._s(this.$store.state.gender))])],1)],1)],1)],1),s("v-layout",{staticClass:"d-flex",attrs:{row:"",wrap:"","justify-center":""}},["xs"!=t.$vuetify.breakpoint.name&&"sm"!=t.$vuetify.breakpoint.name?s("Team"):t._e(),s("v-flex",{attrs:{sm10:"",xs12:"",lg7:"",md8:""}},[s("v-layout",{staticClass:"d-flex justify-center",attrs:{row:"",wrap:""}},[0==this.projects.length?s("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg6:"",xl4:""}},[s("v-card",{staticClass:"pa-1 mt-0 mt-15"},[s("v-card-title",{staticClass:"pa-1 d-flex justify-center"},[t._v(" No Posts Yet!!! ")])],1)],1):t._e(),s("v-flex",{attrs:{xs12:"",sm11:"",md8:"",lg9:"",xl4:"",color:"primary"}},[0!=this.projects.length?s("v-card",{staticClass:"py-4 mx-4 grey--text body-1 text--darken-3 d-flex justify-center"},[t._v("My Posts")]):t._e(),t._l(t.myProjects,(function(e,a){return s("v-card",{key:a,staticClass:"ma-4",attrs:{elevation:"","max-width":""}},[s("v-card-title",{staticClass:"pb-1 pt-2",attrs:{"primary-title":""}},[s("v-btn",{attrs:{large:"",width:"50",height:"50",icon:"",text:""},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.personID})}}},[s("v-avatar",{staticClass:"grey"},[s("v-img",{attrs:{src:""!=e.personProfPic?e.personProfPic:"male"!=e.personGender?"/female_defDP.png":"/male_defDP.png","lazy-src":"/acc.png"}})],1)],1),s("v-layout",{staticClass:"ml-2",attrs:{column:""}},[s("v-flex",{staticClass:"mb-0"},[s("span",{staticClass:"black--text"},[t._v(" "+t._s(e.person)+" ")])]),s("v-flex",[s("div",{staticClass:"grey--text text--darken-1 caption"},[t._v(t._s(t.howLongPosted(e.date)))])])],1),s("v-spacer"),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"white"}},"v-btn",i,!1),a),[s("v-icon",{attrs:{color:"grey"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",{staticClass:"py-0"},[s("v-list-item",{staticClass:" py-0",on:{click:function(s){return t.deletePost(e.id,e.img,e.vid)}}},[s("v-icon",{attrs:{color:""}},[t._v("delete")]),t._v(" Delete post ")],1),s("v-list-item",{},[s("SharePost",{attrs:{post:e}})],1)],1)],1)],1),s("v-card-text",{staticClass:"py-0"},[s("p",{staticClass:"mb-1 black--text"},[t._v(t._s(e.content))])]),s("v-divider",{}),null==e.vid?s("v-img",{staticClass:"postImg",attrs:{"max-height":"500",src:e.img},on:{click:function(s){return t.$router.push({path:"/postView/"+e.id})}}}):s("div",{staticClass:"c-video"},[null!=e.vid?s("video",{staticClass:"videoPlayer",attrs:{loop:"",id:"video"+a,controls:e.playing}},[s("source",{attrs:{src:e.vid}})]):t._e(),null!=e.vid?s("div",{staticClass:"control"},[e.playing?t._e():s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{size:"60",color:"white"},on:{click:function(e){return t.playVid(a)}}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-divider",{}),s("v-card-actions",{staticClass:"py-0"},[s("v-container",{staticClass:"py-0"},[s("v-col",{staticClass:"pl-2 py-1"},[s("v-row",{staticClass:" px-3 py-1 d-flex justify-space-between"},[s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.likes.length)+" "),s("LikesList",{attrs:{likes:e.likes}})],1),s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.comments.length)+" "),s("Comments",{attrs:{comments:e.comments,postId:e.id}})],1)]),s("v-divider",{}),s("div",{staticClass:"d-flex justify-space-around mt-2"},[e.iliked?t._e():s("v-icon",{on:{click:function(s){return t.likePost(e.id,a)}}},[t._v("mdi-heart-outline")]),e.iliked?s("v-icon",{attrs:{color:"red"},on:{click:function(s){return t.unlikePost(e.id,a)}}},[t._v("mdi-heart")]):t._e(),e.writeComment?t._e():s("v-icon",{attrs:{color:""},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text-outline")]),e.writeComment?s("v-icon",{attrs:{color:"indigo"},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text")]):t._e()],1)],1)],1)],1),e.writeComment?s("v-divider",{}):t._e(),e.writeComment?s("v-row",{staticClass:"mx-2 mt-4"},[s("v-textarea",{staticClass:" heading",attrs:{autofocus:"","auto-grow":"","clear-icon":"",rounded:"",solo:"",rows:"1",placeholder:"Add a comment"},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),s("v-btn",{attrs:{text:"",disabled:""==t.myComment,color:"indigo"},on:{click:function(s){return t.sendComment(e.id)}}},[t._v(" post")])],1):t._e()],1)}))],2)],1)],1),"xs"!=t.$vuetify.breakpoint.name&&"sm"!=t.$vuetify.breakpoint.name?s("v-flex",{attrs:{"md-1":"","lg-3":""}}):t._e()],1)],1):t._e()},le=[],de=(s("c975"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"700px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"grey editbtn lighten-2 black--text",attrs:{absolute:"",outlined:"",bottom:"",icon:""},on:{click:function(e){t.model=!0}}},"v-btn",i,!1),a),[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-icon",t._g(t._b({attrs:{color:""}},"v-icon",i,!1),a),[t._v("mdi-camera-iris")])]}}],null,!0)},[s("span",[t._v("Edit Profile Pic")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{staticClass:"d-flex justify-space-between"},[s("p",[t._v("Update Profile Pic")]),s("v-btn",{attrs:{icon:"",small:"",elevation:"",color:""},on:{click:t.close}},[s("v-icon",{attrs:{color:""}},[t._v("mdi-close")])],1)],1)],1),s("v-row",{staticClass:" ml-6 pt-0"},[s("div",{staticClass:" body-1 font-weight-medium  mt-5 mr-8"},[t._v("Choose Image")]),s("v-file-input",{attrs:{color:"indigo","hide-details":"","hide-input":"","prepend-icon":"mdi-image",accept:"image/*"},on:{change:t.onFileSelected}})],1),s("v-card-text",[""!=t.img?s("div",{staticClass:" indigo img-cont lighten-3"},[s("img",{ref:"image",attrs:{src:t.img}})]):t._e()]),s("v-card-actions",{staticClass:" d-flex justify-end"},[s("v-btn",{attrs:{loading:t.loader,disabled:t.button,small:"",elevation:"",color:"indigo"},on:{click:t.upload}},[t._v("Upload")])],1)],1)],1)}),me=[],ue={data:function(){return{dialog:!1,img:"",loader:!1,cropper:null,image:null,destination:"",canvas:null,selectedFile:null,profPicture:null,uploadValue:0}},computed:{button:function(){return""==this.img}},methods:{onFileSelected:function(t){this.img=window.URL.createObjectURL(t),null!=this.cropper&&this.cropper.destroy(),this.$nextTick(this.cropperIns)},cropperIns:function(){var t=this,e=this.$refs.image;this.cropper=new u.a(e,{zoomable:!1,scalable:!1,aspectRatio:1,crop:function(){t.canvas=t.cropper.getCroppedCanvas(),t.destination=t.canvas.toDataURL("image/png")}})},upload:function(){var t=this;this.loader=!0,this.uploadValue=0,this.profPicture=null,this.selectedFile=this.canvas.toBlob((function(e){t.selectedFile=new File([e],"prof.png",{type:"image/png"});var s=C.a.storage().ref(),a=s.child("profilePics/"+t.$store.state.uid+".png").put(t.selectedFile);a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(e){t.profPicture=e,t.loader=!1,t.$emit("ProfilePicupdated"),t.close(),t.$store.commit("changeProfPic",e),g.collection("users").doc(t.$store.state.uid).update({profPic:e});var s=g.batch();g.collection("project").where("personID","==",t.$store.state.uid).get().then((function(t){t.docs.forEach((function(t){var a=C.a.firestore().collection("project").doc(t.id);s.update(a,{personProfPic:e})})),s.commit()}))}))}))}))},close:function(){this.img="",null!=this.cropper&&this.cropper.destroy(),this.image=null,this.dialog=!1}}},pe=ue,ve=(s("dad9"),s("3a2f")),fe=Object(w["a"])(pe,de,me,!1,null,"42b4ce0d",null),he=fe.exports;V()(fe,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:R["a"],VFileInput:D["a"],VIcon:S["a"],VRow:T["a"],VTooltip:ve["a"]});var ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-icon",t._g(t._b({staticClass:"mr-4",attrs:{large:"",left:"",color:t.colo},on:{click:function(e){t.dialog=!0}}},"v-icon",i,!1),a),[t._v("edit")])]}}])},[s("span",[t._v("Edit Cover Pic")])]),s("v-dialog",{attrs:{"max-width":"700px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{staticClass:"d-flex justify-space-between"},[s("p",[t._v("Update Cover Pic")]),s("v-btn",{attrs:{icon:"",small:"",elevation:"",color:""},on:{click:t.close}},[s("v-icon",{attrs:{color:""}},[t._v("mdi-close")])],1)],1)],1),s("v-row",{staticClass:" ml-6 pt-0"},[s("div",{staticClass:" body-1 font-weight-medium  mt-5 mr-8"},[t._v("Choose Image")]),s("v-file-input",{attrs:{color:"indigo","hide-details":"","hide-input":"","prepend-icon":"mdi-image",accept:"image/*"},on:{change:t.onFileSelected}})],1),s("v-card-text",[""!=t.img?s("div",{staticClass:" indigo img-cont lighten-3"},[s("img",{ref:"image",attrs:{src:t.img}})]):t._e()]),s("v-card-actions",{staticClass:" d-flex justify-end"},[s("v-btn",{attrs:{loading:t.loader,disabled:t.button,small:"",elevation:"",color:"indigo"},on:{click:t.upload}},[t._v("Upload")])],1)],1)],1)],1)},ye=[],Ce={data:function(){return{dialog:!1,img:"",loader:!1,cropper:null,image:null,destination:"",canvas:null,selectedFile:null,profPicture:null,uploadValue:0}},computed:{button:function(){return""==this.img},colo:function(){return""==this.$store.state.coverPic?"grey":"white"}},methods:{onFileSelected:function(t){this.img=window.URL.createObjectURL(t),null!=this.cropper&&this.cropper.destroy(),this.$nextTick(this.cropperIns)},cropperIns:function(){var t=this,e=this.$refs.image;this.cropper=new u.a(e,{zoomable:!1,scalable:!1,aspectRatio:4,crop:function(){t.canvas=t.cropper.getCroppedCanvas(),t.destination=t.canvas.toDataURL("image/png")}})},upload:function(){var t=this;this.loader=!0,this.uploadValue=0,this.profPicture=null,this.selectedFile=this.canvas.toBlob((function(e){t.selectedFile=new File([e],"prof.png",{type:"image/png"});var s=C.a.storage().ref(),a=s.child("coverPics/"+t.$store.state.uid+".png").put(t.selectedFile);a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(e){t.profPicture=e,console.log(t.$store.state.coverPic),t.$store.commit("changeCoverPic",e),t.loader=!1,t.close(),t.$emit("CoverPicupdated"),g.collection("users").doc(t.$store.state.uid).update({coverPic:e});var s=g.batch();s.commit()}))}))}))},close:function(){this.img="",null!=this.cropper&&this.cropper.destroy(),this.image=null,this.dialog=!1}}},_e=Ce,xe=(s("94e2"),Object(w["a"])(_e,ge,ye,!1,null,"35349965",null)),be=xe.exports;V()(xe,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:R["a"],VFileInput:D["a"],VIcon:S["a"],VRow:T["a"],VTooltip:ve["a"]});var we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:"",xl2:""}},[s("v-card",{staticClass:"ml-3 frnds",attrs:{"min-height":"450","max-height":"570"}},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{staticClass:"mx-1",attrs:{justify:"space-between"}},[s("p",[t._v("Friends")]),s("a",{staticClass:"ma-2 body-2",on:{click:function(e){return t.$router.replace("/team")}}},[t._v("Load More")])])],1),s("v-layout",{staticClass:"pl-2",attrs:{row:"",wrap:"","justify-start":""}},t._l(t.members,(function(e){return s("v-flex",{key:e.name,staticClass:"ma-2  lighten-3",attrs:{lg5:"",md5:"",outlined:"",flat:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-title",[s("v-avatar",{attrs:{color:"grey",size:"110"}},[s("img",{attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png",alt:'member.gender!="male"?"/female_defDP.png":"/male_defDP.png"'},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.id})}}})])],1),s("v-card-text",{staticClass:"pb-0"},[s("div",{staticClass:"text-body-1 black--text"},[t._v(" "+t._s(e.name)+" ")])])],1)],1)})),1)],1)],1)},ke=[],Ve={data:function(){return{members:[],requests:[],newreq:[]}},methods:{},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").where("friends","array-contains",t.$store.state.uid).onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if("added"===e.type){var s=e.doc.data();s.id=e.doc.id,t.members.push(s)}if("removed"===e.type){var a=e.doc.data();t.members=t.members.filter((function(t){return t.name!=a.name}))}})),0==s.length&&e.docs.forEach((function(e){var s=e.data();s.id=e.id,t.members.push(s)}))}));case 2:return e.next=4,g.collection("users").doc(t.$store.state.uid).onSnapshot((function(e){t.requests=[];var s=e.data().inRequests;s.forEach((function(e){g.collection("users").doc(e).get().then((function(s){var a=s.data();a.id=e,t.requests.push(a)}))}))}));case 4:case"end":return e.stop()}}),e)})))()}},Pe=Ve,je=(s("433f"),Object(w["a"])(Pe,we,ke,!1,null,"c2ba35f8",null)),$e=je.exports;V()(je,{VAvatar:et["a"],VCard:j["a"],VCardText:$["b"],VCardTitle:$["c"],VFlex:I["a"],VLayout:M["a"],VRow:T["a"]});var Re={components:{LikesList:Ft,ImageCropper:he,CoverCropper:be,Comments:Jt,SharePost:se,Team:$e},data:function(){return{render:!1,psnackbar:!1,csnackbar:!1,dialog:!1,userpic:"",usergender:"",usermail:"",cov:"",projects:[],myComment:"",selectedFile:null,profPicture:null,uploadValue:0,img:""}},methods:{playVid:function(t){var e=document.getElementById("video"+String(t));e.paused&&(e.play(),this.projects[t].playing=!0,e.muted=!0)},sendComment:function(t){var e=new Date,s={comment:this.myComment,sentBy:this.$store.state.uid,timestamp:e.getTime(),date:e};g.collection("project").doc(t).update({comments:C.a.firestore.FieldValue.arrayUnion(s)}),this.myComment=""},deletePost:function(t,e,s){if(null!=e){var a=e.indexOf("%2F"),i=e.indexOf(".png"),o=e.substring(a+3,i),r=C.a.storage().ref();r.child("Posts"+this.$store.state.uid+"/"+o+".png").delete(),g.collection("project").doc(t).delete()}else{var n=s.indexOf("%2F"),c=s.indexOf(".mp4"),l=s.substring(n+3,c),d=C.a.storage().ref();d.child("Posts"+this.$store.state.uid+"/"+l+".mp4").delete(),g.collection("project").doc(t).delete()}},updateProfPic:function(){this.$refs.fileInput.click()},onFileSelected:function(t){this.img=window.URL.createObjectURL(t),this.dialog=!0},upload:function(t){var e=this;this.uploadValue=0,this.profPicture=null,this.selectedFile=t.target.files[0];var s=C.a.storage().ref(),a=s.child("profilePics/"+Object(_["a"])()+this.selectedFile.name).put(this.selectedFile);a.on("state_changed",(function(t){e.uploadValue=t.bytesTransferred/t.totalBytes*100}),(function(t){console.log(t.message)}),(function(){e.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(t){e.profPicture=t,e.$store.commit("changeProfPic",t),g.collection("users").doc(e.$store.state.uid).update({profPic:t});var s=g.batch();g.collection("project").where("personID","==",e.$store.state.uid).get().then((function(e){e.docs.forEach((function(e){var a=C.a.firestore().collection("project").doc(e.id);s.update(a,{personProfPic:t})})),s.commit()}))}))}))},howLongPosted:function(t){var e=t.toDate(),s=new Date,a=(s.getTime()-e.getTime())/36e5;return a<1?0==Math.floor(60*a)?"just now":Math.floor(60*a)+" m":a>24?a/24>30?String(e).substring(4,15):Math.floor(a/24)+" d":Math.floor(a)+" h"},likePost:function(t,e){this.projects[e].iliked=!0,this.projects[e].likes.push(this.$store.state.uid),g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},unlikePost:function(t,e){this.projects[e].iliked=!1,this.projects[e].likes.pop();for(var s=0;s<this.projects[e].likes.length;s++)if(this.projects[e].likes[s]==this.$store.state.uid){delete this.projects[e].likes[s];break}g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})},arrayRemove:function(t,e){return t.filter((function(t){return t!=e}))},checkliked:function(t){return!!t.includes(this.$store.state.uid)}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g.collection("users").doc(t.$store.state.uid).onSnapshot((function(e){t.cov=e.data().coverPic,t.cov=t.$store.state.coverPic,t.render=!0})),g.collection("project").where("personID","==",t.$store.state.uid).onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if("modified"===e.type){var s=t.projects.findIndex((function(t){return t.id===e.doc.id}));t.projects[s].comments.length!=e.doc.data().comments&&(t.projects[s].comments=e.doc.data().comments)}if("added"===e.type){var a=e.doc.data();a.id=e.doc.id,a.playing=!1,a.likes.includes(t.$store.state.uid)?a.iliked=!0:a.liked=!1,a.writeComment=!1,t.projects.unshift(a)}if("removed"===e.type){var i=e.doc.id;t.projects=t.projects.filter((function(t){return t.id!=i}))}}))}));case 2:case"end":return e.stop()}}),e)})))()},computed:{myProjects:function(){var t=this.projects;return t.sort((function(t,e){var s=t.timestamp,a=e.timestamp;return s>a?-1:s<a?1:0})),t}}},De=Re,Ie=(s("a737"),Object(w["a"])(De,ce,le,!1,null,"d882c12e",null)),Le=Ie.exports;V()(Ie,{VAvatar:et["a"],VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VCol:oe["a"],VContainer:st["a"],VDivider:Mt["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VMenu:at["a"],VRow:T["a"],VSnackbar:ot["a"],VSpacer:rt["a"],VTextarea:A["a"]});var Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-end"},[s("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{color:"",dark:""}},"v-btn",i,!1),a),[t._v(" Requests "),s("v-badge",{attrs:{bordered:"",color:"primary",content:t.requests.length,value:t.requests.length}},[s("v-icon",{attrs:{right:"",color:""}},[t._v("mdi-account")])],1)],1)]}}])},[s("v-card",[s("v-list",[0==t.requests.length?s("v-list-item",[s("v-list-item-title",[t._v("No pending requests")])],1):t._e(),t._l(t.requests,(function(e,a){return s("v-list-item",{key:a},[s("v-list-item-avatar",{staticClass:"mr-2"},[s("v-img",{staticClass:"reqpic",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png",alt:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"},on:{click:function(s){return t.$router.push("othersProfile/"+e.id)}}})],1),s("v-list-item-content",{staticClass:"ml-0 pl-0 d-inline-block text-truncate"},[s("h4",{staticClass:"grey--text text--darken-2 font-weight-bold text-si"},[t._v(" "+t._s(e.name)+" ")]),s("span",{staticClass:"grey--text caption "},[t._v(" "+t._s(e.email)+" ")])]),s("v-list-item-action",[s("v-row",[s("v-btn",{staticClass:"error",attrs:{small:"",icon:""},on:{click:function(s){return t.cancelRequest(e.id,a)}}},[s("v-icon",{attrs:{small:"",color:""}},[t._v("mdi-close-outline")])],1),s("v-btn",{staticClass:"ml-2 primary",attrs:{small:"",icon:""},on:{click:function(s){return t.acceptRequest(e.id,a)}}},[s("v-icon",{attrs:{small:"",color:""}},[t._v("mdi-check-outline")])],1)],1)],1)],1)}))],2)],1)],1)],1),s("v-container",{attrs:{"my-3":""}},[s("v-layout",{staticClass:"grey lighten-3",attrs:{row:"",wrap:""}},t._l(t.members,(function(e){return s("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md6:"",lg4:"",xl2:""}},[s("v-card",{staticClass:"ma-2  lighten-3",attrs:{outlined:"",flat:""}},[s("v-list-item",{staticClass:"ma-3 mx-5",attrs:{elevation:"","max-width":""}},[s("v-list-item-avatar",{staticClass:"disp d-flex justify-center",attrs:{color:"grey",size:"100"}},[s("v-img",{attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png",alt:'member.gender!="male"?"/female_defDP.png":"/male_defDP.png"'},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.id})}}})],1),s("v-list-item-content",[s("v-list-item-title",[s("div",{staticClass:" text-h5 black--text"},[t._v(" "+t._s(e.name)+" ")])]),s("v-list-item-subtitle",[s("div",{staticClass:"grey--text text--darken-1 text-body-1"},[t._v(" "+t._s(e.email)+" ")])])],1)],1)],1)],1)})),1)],1)],1)},Me=[],Te=(s("a434"),{data:function(){return{members:[],requests:[],newreq:[]}},methods:{cancelRequest:function(t,e){g.collection("users").doc(this.$store.state.uid).update({inRequests:C.a.firestore.FieldValue.arrayRemove(t)}),this.requests.splice(e,1)},acceptRequest:function(t,e){var s=this;g.collection("users").doc(this.$store.state.uid).update({friends:C.a.firestore.FieldValue.arrayUnion(t)}).then((function(){g.collection("users").doc(s.$store.state.uid).update({inRequests:C.a.firestore.FieldValue.arrayRemove(t)}).then((function(){g.collection("users").doc(t).update({friends:C.a.firestore.FieldValue.arrayUnion(s.$store.state.uid)}).then((function(){s.requests.splice(e,1)}))}))}))}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").where("friends","array-contains",t.$store.state.uid).onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if("added"===e.type){var s=e.doc.data();s.id=e.doc.id,t.members.push(s)}if("removed"===e.type){var a=e.doc.data();t.members=t.members.filter((function(t){return t.name!=a.name}))}})),0==s.length&&e.docs.forEach((function(e){var s=e.data();s.id=e.id,t.members.push(s)}))}));case 2:return e.next=4,g.collection("users").doc(t.$store.state.uid).onSnapshot((function(e){t.requests=[];var s=e.data().inRequests;s.forEach((function(e){g.collection("users").doc(e).get().then((function(s){var a=s.data();a.id=e,t.requests.push(a)}))}))}));case 4:case"end":return e.stop()}}),e)})))()}}),Ae=Te,Fe=(s("4d58"),s("4ca6")),Be=Object(w["a"])(Ae,Se,Me,!1,null,"1c34c002",null),qe=Be.exports;V()(Be,{VBadge:Fe["a"],VBtn:P["a"],VCard:j["a"],VContainer:st["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VMenu:at["a"],VRow:T["a"]});var Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-layout",{staticClass:"d-flex justify-center",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{sm12:"",xs12:"",lg12:"",md12:""}},[s("v-card",{staticClass:"my-4 mb-8"},[s("v-container",{staticClass:"justify-start"},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{staticClass:"cover fill-height mx-1",attrs:{"aspect-ratio":3.2,src:""!=t.user.coverPic?t.user.coverPic:"/defCover.png"}},[s("v-row",{staticClass:" fill-height",attrs:{justify:"center",align:"end"}},[s("v-avatar",{staticClass:"profAv align-center white lighten-2",attrs:{color:"grey",size:"200"}},[s("v-img",{staticStyle:{"object-fit":"cover"},attrs:{src:""!=t.user.profPic?t.user.profPic:"female"!=t.user.gender?"/male_defDP.png":"/female_defDP.png"}})],1)],1)],1)],1),s("v-row",{attrs:{justify:"space-between"}},[s("div",{staticClass:"pl-2"},[s("h1",{staticClass:"black--text mt-4"},[t._v(t._s(t.user.name))]),s("h3",{staticClass:"grey--text text--darken-3"},[t._v("email id: "+t._s(t.user.email))]),s("h4",{staticClass:"grey--text text--darken-3"},[t._v("Gender: "+t._s(t.user.gender))])]),s("div",{staticClass:"mt-6 mr-2"},[0==t.user.requested&&0==t.user.accepted?s("v-btn",{staticClass:" teal",attrs:{small:""},on:{click:function(e){return t.sendRequest(t.user.id)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" Request ")],1):t._e(),1==t.user.requested&&0==t.user.accepted?s("v-btn",{attrs:{small:""},on:{click:function(e){return t.cancelRequest(t.user.id)}}},[s("v-icon",{attrs:{left:"",color:"indigo darken-3"}},[t._v("mdi-account-plus")]),t._v(" cancel ")],1):t._e(),0==t.user.requested&&1==t.user.accepted?s("v-btn",{staticClass:"teal lighten-2",attrs:{small:""},on:{click:function(e){return t.unfriend(t.user.id)}}},[s("v-icon",{attrs:{left:"",color:""}},[t._v("mdi-account-remove")]),t._v(" Unfriend ")],1):t._e(),s("div",{staticClass:"mt-3 pl-0"},[s("v-btn",{attrs:{small:"",elevation:"",color:"teal lighten-2"},on:{click:function(e){return t.$router.push({path:"/teamMut/"+t.$route.params.id})}}},[s("p",{staticClass:"mt-4 ml-1"},[t._v("Friends list")])])],1)],1)])],1)],1)],1)],1),s("v-layout",{attrs:{row:"",wrap:""}},["xs"!=t.$vuetify.breakpoint.name&&"sm"!=t.$vuetify.breakpoint.name?s("Team",{attrs:{id:this.$route.params.id}}):t._e(),s("v-flex",{attrs:{sm8:"",xs12:"",lg7:"",md8:""}},[s("v-layout",{staticClass:"d-flex justify-center",attrs:{row:"",wrap:""}},[0==t.myProjects.length?s("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg6:"",xl4:""}},[s("v-card",{staticClass:"pa-1 mt-0 mt-15"},[s("v-card-title",{staticClass:"pa-1 d-flex justify-center"},[t._v(" No Posts Yet!!! ")])],1)],1):t._e(),s("v-flex",{attrs:{xs12:"",sm11:"",md8:"",lg9:"",xl4:"",color:"primary"}},[0!=this.projects.length?s("v-card",{staticClass:"py-4 mx-4 grey--text body-1 text--darken-3 d-flex justify-center"},[t._v(" "+t._s(t.user.name)+"'s Posts")]):t._e(),t._l(t.myProjects,(function(e,a){return s("v-card",{key:a,staticClass:"ma-4",attrs:{elevation:"","max-width":""}},[s("v-card-title",{staticClass:"pb-1 pt-2",attrs:{"primary-title":""}},[s("v-btn",{attrs:{large:"",width:"50",height:"50",icon:"",text:""},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.personID})}}},[s("v-avatar",{staticClass:"grey"},[s("v-img",{attrs:{src:""!=e.personProfPic?e.personProfPic:"male"!=e.personGender?"/female_defDP.png":"/male_defDP.png","lazy-src":"/acc.png"}})],1)],1),s("v-layout",{staticClass:"ml-2",attrs:{column:""}},[s("v-flex",{staticClass:"mb-0"},[s("span",{staticClass:"black--text"},[t._v(" "+t._s(e.person)+" ")])]),s("v-flex",[s("div",{staticClass:"grey--text text--darken-1 caption"},[t._v(t._s(t.howLongPosted(e.date)))])])],1),s("v-spacer"),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"white"}},"v-btn",i,!1),a),[s("v-icon",{attrs:{color:"grey"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",{staticClass:"py-0"},[s("v-list-item",{on:{click:function(s){return t.deletePost(e.id)}}},[s("v-icon",{attrs:{left:"",color:""}},[t._v("mdi-share")]),s("span",[t._v("Share post")])],1)],1)],1)],1),s("v-card-text",{staticClass:"py-0"},[s("p",{staticClass:"mb-1 black--text"},[t._v(t._s(e.content))])]),s("v-divider",{}),null!=e.img?s("v-img",{staticClass:"postImg",attrs:{"max-height":"500",src:e.img},on:{click:function(s){return t.$router.push({path:"/postView/"+e.id})}}}):s("div",{staticClass:"c-video"},[null!=e.vid?s("video",{staticClass:"videoPlayer",attrs:{loop:"",id:"video"+a,controls:e.playing}},[s("source",{attrs:{src:e.vid}})]):t._e(),null!=e.vid?s("div",{staticClass:"control"},[e.playing?t._e():s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{size:"60",color:"white"},on:{click:function(e){return t.playVid(a)}}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-divider",{}),s("v-card-actions",{staticClass:"py-0"},[s("v-container",{staticClass:"py-0"},[s("v-col",{staticClass:"pl-2 py-1"},[s("v-row",{staticClass:" px-3 py-1 d-flex justify-space-between"},[s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.likes.length)+" "),s("LikesList",{attrs:{likes:e.likes}})],1),s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(e.comments.length)+" "),s("Comments",{attrs:{comments:e.comments,postId:e.id}})],1)]),s("v-divider",{}),s("div",{staticClass:"d-flex justify-space-around mt-2"},[e.iliked?t._e():s("v-icon",{on:{click:function(s){return t.likePost(e.id,a)}}},[t._v("mdi-heart-outline")]),e.iliked?s("v-icon",{attrs:{color:"red"},on:{click:function(s){return t.unlikePost(e.id,a)}}},[t._v("mdi-heart")]):t._e(),e.writeComment?t._e():s("v-icon",{attrs:{color:""},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text-outline")]),e.writeComment?s("v-icon",{attrs:{color:"indigo"},on:{click:function(s){e.writeComment=!e.writeComment,t.myComment=""}}},[t._v("mdi-comment-text")]):t._e()],1)],1)],1)],1),e.writeComment?s("v-divider",{}):t._e(),e.writeComment?s("v-row",{staticClass:"mx-2 mt-4"},[s("v-textarea",{staticClass:" heading",attrs:{autofocus:"","auto-grow":"","clear-icon":"",rounded:"",solo:"",rows:"1",placeholder:"Add a comment"},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),s("v-btn",{attrs:{text:"",color:"indigo"},on:{click:function(s){return t.sendComment(e.id)}}},[t._v(" post")])],1):t._e()],1)}))],2)],1)],1)],1)],1)},Ue=[],Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:"",xl2:""}},[s("v-card",{staticClass:"ml-3 frnds",attrs:{"min-height":"450","max-height":"570"}},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-row",{staticClass:"mx-1",attrs:{justify:"space-between"}},[s("p",[t._v("Mutual Friends")]),s("a",{staticClass:"ma-2 body-2",on:{click:function(e){return t.$router.push({path:"/teamMut/"+t.id})}}},[t._v("Load More")])])],1),s("v-layout",{staticClass:"pl-2",attrs:{row:"",wrap:"","justify-start":""}},t._l(t.members,(function(e){return s("v-flex",{key:e.name,staticClass:"ma-2  lighten-3",attrs:{lg5:"",md5:"",outlined:"",flat:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-title",[s("v-avatar",{attrs:{color:"grey",size:"110"}},[s("img",{attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png",alt:'member.gender!="male"?"/female_defDP.png":"/male_defDP.png"'},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.id})}}})])],1),s("v-card-text",{staticClass:"pb-0"},[s("div",{staticClass:"text-body-1 black--text"},[t._v(" "+t._s(e.name)+" ")])])],1)],1)})),1)],1)],1)},ze=[],He={props:{id:String},data:function(){return{members:[]}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").where("friends","array-contains",t.$store.state.uid).get().then((function(e){e.docs.forEach((function(e){if(e.data().friends.includes(t.id)){var s=e.data();s.id=e.id,t.members.push(s)}})),console.log(t.members)}));case 2:case"end":return e.stop()}}),e)})))()}},Ye=He,Ne=(s("d36c"),Object(w["a"])(Ye,Ee,ze,!1,null,"20cc12bf",null)),Ge=Ne.exports;V()(Ne,{VAvatar:et["a"],VCard:j["a"],VCardText:$["b"],VCardTitle:$["c"],VFlex:I["a"],VLayout:M["a"],VRow:T["a"]});var Ke={components:{LikesList:Ft,Comments:Jt,Team:Ge},data:function(){return{user:{},projects:[],myComment:""}},methods:{playVid:function(t){var e=document.getElementById("video"+String(t));e.paused&&(e.play(),this.projects[t].playing=!0,e.muted=!0)},sendComment:function(t){var e=new Date,s={comment:this.myComment,sentBy:this.$store.state.uid,timestamp:e.getTime(),date:e};g.collection("project").doc(t).update({comments:C.a.firestore.FieldValue.arrayUnion(s)}),this.myComment=""},unfriend:function(t){console.log(this.user.requested,this.user.accepted),this.user.accepted=!1,g.collection("users").doc(t).update({friends:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)}),g.collection("users").doc(this.$store.state.uid).update({friends:C.a.firestore.FieldValue.arrayRemove(t)}),console.log(this.user.requested,this.user.accepted)},sendRequest:function(t){console.log(this.user.requested,this.user.accepted),this.user.requested=!0,console.log(this.user.requested,this.user.accepted),g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},cancelRequest:function(t){console.log(this.user.requested,this.user.accepted),this.user.requested=!1,console.log(this.user.requested,this.user.accepted),g.collection("users").doc(t).update({inRequests:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})},howLongPosted:function(t){var e=t.toDate(),s=new Date,a=(s.getTime()-e.getTime())/36e5;return a<1?0==Math.floor(60*a)?"just now":Math.floor(60*a)+" m":a>24?a/24>30?String(e).substring(4,15):Math.floor(a/24)+" d":Math.floor(a)+" h"},likePost:function(t,e){this.projects[e].iliked=!0,this.projects[e].likes.push(this.$store.state.uid),g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},unlikePost:function(t,e){this.projects[e].iliked=!1,this.projects[e].likes.pop();for(var s=0;s<this.projects[e].likes.length;s++)if(this.projects[e].likes[s]==this.$store.state.uid){delete this.projects[e].likes[s];break}g.collection("project").doc(t).update({likes:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})},arrayRemove:function(t,e){return t.filter((function(t){return t!=e}))},checkliked:function(t){return!!t.includes(this.$store.state.uid)}},watch:{$route:function(t,e){var s=this;console.log("watch",t,e),g.collection("users").doc(t.params.id).get().then((function(t){s.user=t.data()})),this.projects=[],g.collection("project").where("personID","==",t.params.id).onSnapshot((function(t){var e=t.docChanges();e.forEach((function(t){if("added"===t.type){var e=t.doc.data();e.id=t.doc.id,e.likes.includes(s.$store.state.uid)?e.iliked=!0:e.liked=!1,s.projects.unshift(e)}}))}))}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.$route.params.id),g.collection("users").doc(t.$route.params.id).get().then((function(e){var s=e.data();s.id=e.id,s.inRequests.includes(t.$store.state.uid)?s.requested=!0:s.requested=!1,s.friends.includes(t.$store.state.uid)?s.accepted=!0:s.accepted=!1,console.log("bef",s.requested,s.accepted),t.user=s})),g.collection("project").where("personID","==",t.$route.params.id).onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if("modified"===e.type){console.log("mod",e);var s=t.projects.findIndex((function(t){return t.id===e.doc.id}));console.log(s),t.projects[s].comments.length!=e.doc.data().comments&&(t.projects[s].comments=e.doc.data().comments)}if("added"===e.type){var a=e.doc.data();a.id=e.doc.id,a.playing=!1,a.likes.includes(t.$store.state.uid)?a.iliked=!0:a.liked=!1,a.writeComment=!1,t.projects.unshift(a)}}))}));case 3:case"end":return e.stop()}}),e)})))()},computed:{myProjects:function(){var t=this.projects;return t.sort((function(t,e){var s=t.timestamp,a=e.timestamp;return s>a?-1:s<a?1:0})),t}}},We=Ke,Je=(s("7a49"),Object(w["a"])(We,Oe,Ue,!1,null,"0503f64c",null)),Qe=Je.exports;V()(Je,{VAvatar:et["a"],VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VCol:oe["a"],VContainer:st["a"],VDivider:Mt["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VMenu:at["a"],VRow:T["a"],VSpacer:rt["a"],VTextarea:A["a"]});var Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-center"},[t.showChat?s("v-card",{staticClass:"chatRoom"},[s("v-container",{staticClass:"py-0"},[s("v-row",{staticClass:"d-flex justify-space-between"},[s("v-list",{staticClass:"mx-1 py-0"},[s("v-list-item",[s("v-list-item-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:""!=t.chatRoom.pic?t.chatRoom.pic:"male"!=t.chatRoom.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",[t._v(t._s(t.chatRoom.name))])],1)],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showChat=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("v-divider",{staticClass:"grey lighten-2"}),s("v-card",{staticClass:"chating overflow-y-auto d-flex flex-column-reverse",attrs:{flat:"","align-end":""}},[s("div",{attrs:{id:"scroller"}}),t._l(t.messList,(function(e){return s("div",{key:e.timestamp},[""==e.message&&null==e.post?s("div",{staticClass:"d-flex justify-center"},[s("v-chip",{staticClass:"caption py-0 grey lighten-2",attrs:{color:""}},[t._v(" "+t._s(e.date)+" ")])],1):t._e(),null!=e.post?s("div",{staticClass:"d-flex justify-center"},[e.sentBy==t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-end"},[s("v-card",{staticClass:"my-0 ",attrs:{dark:"",width:"150",height:"210",color:"indigo darken-2"},on:{click:function(s){return t.$router.push({path:"/postView/"+e.post.id})}}},[s("v-list-item",{staticClass:"px-1 my-0 py-0"},[s("v-list-item-avatar",{staticClass:"mr-2 my-0",attrs:{color:"grey",size:"30"}},[s("v-img",{attrs:{src:""!=e.post.personProfPic?e.post.personProfPic:"/male_defDP.png",alt:""}})],1),s("v-list-item-title",{staticClass:"caption pl-0"},[t._v(t._s(e.post.person))])],1),null!=e.post.img?s("v-img",{attrs:{height:"120",src:e.post.img}}):s("div",{staticClass:"c-video"},[null!=e.post.vid?s("video",{staticClass:"videoPlayer"},[s("source",{attrs:{type:"video/ogv",src:e.post.vid}}),s("source",{attrs:{type:"video/webm",src:e.post.vid}})]):t._e(),null!=e.post.vid?s("div",{staticClass:"control"},[s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{large:"",color:"white"}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-card-actions",{staticClass:"pb-0"},[s("p",{staticClass:" my-0 text-truncate",staticStyle:{"max-width":"150px","font-size":"10px"}},[t._v(t._s(e.post.content))])]),s("v-row",{staticClass:"mr-2 ml-2 pb-0",attrs:{justify:"end"}},[s("p",{staticStyle:{"font-size":"8px"}},[t._v(t._s(e.time))])])],1)],1):t._e(),e.sentBy!=t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-start"},[s("v-card",t._g(t._b({staticClass:"my-0 ",attrs:{dark:"",width:"150",height:"210",color:"grey darken-2"},on:{click:function(s){return t.$router.push({path:"/postView/"+e.post.id})}}},"v-card",t.attrs,!1),t.on),[s("v-list-item",{staticClass:"px-1 my-0 py-0"},[s("v-list-item-avatar",{staticClass:"mr-2 my-0",attrs:{color:"grey",size:"30"}},[s("v-img",{attrs:{src:""!=e.post.personProfPic?e.post.personProfPic:"/male_defDP.png",alt:""}})],1),s("v-list-item-title",{staticClass:"caption pl-0"},[t._v(t._s(e.post.person))])],1),null!=e.post.img?s("v-img",{attrs:{height:"120",src:e.post.img}}):s("div",{staticClass:"c-video1"},[null!=e.post.vid?s("video",{staticClass:"videoPlayer1"},[s("source",{attrs:{type:"video/ogv",src:e.post.vid}}),s("source",{attrs:{type:"video/webm",src:e.post.vid}})]):t._e(),null!=e.post.vid?s("div",{staticClass:"control1"},[s("v-icon",{staticStyle:{opacity:"0.8"},attrs:{large:"",color:"white"}},[t._v("mdi-play-circle-outline")])],1):t._e()]),s("v-card-actions",[s("p",{staticClass:" my-0 text-truncate",staticStyle:{"max-width":"150px","font-size":"10px"}},[t._v(t._s(e.post.content))])]),s("v-row",{staticClass:"mr-2 ml-2 pb-0",attrs:{justify:"end"}},[s("p",{staticStyle:{"font-size":"8px"}},[t._v(t._s(e.time))])])],1)],1):t._e()],1):t._e(),""!=e.message?s("div",[e.sentBy==t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-end"},[s("v-card",{staticClass:"message indigo darken-2 pt-1 px-3",attrs:{flat:"","max-width":"200",dark:""}},[s("p",{staticClass:"ma-0 body-2 d-flex  justify-end"},[t._v(" "+t._s(e.message)+" ")]),s("p",{staticClass:"mb-0 d-flex justify-end",staticStyle:{"font-size":"8px"}},[t._v(" "+t._s(e.time))])])],1):t._e(),e.sentBy!=t.$store.state.uid?s("v-row",{staticClass:"ma-1 d-flex justify-start   "},[s("v-card",{staticClass:"message grey darken-1 pt-1 px-3",attrs:{flat:"",outlined:"","max-width":"200",dark:""}},[s("p",{staticClass:"ma-0 body-2 d-flex justify-start"},[t._v(" "+t._s(e.message)+" ")]),s("p",{staticClass:"mb-0 d-flex justify-start",staticStyle:{"font-size":"8px"}},[t._v(" "+t._s(e.time))])])],1):t._e()],1):t._e()])}))],2),s("v-divider",{}),s("v-card",{staticClass:"px-2",attrs:{flat:"","max-height":"41"}},[s("v-row",[s("v-text-field",{staticClass:"mx-2",attrs:{dense:"",type:"",solo:"","error-count":"",placeholder:"",label:"",outlined:"",color:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("v-btn",{staticClass:"mr-1",attrs:{disabled:""==t.message,large:"",color:"indigo",icon:""},on:{click:function(e){return t.sendMessage(t.chatRoom.id)}}},[s("v-icon",[t._v("mdi-send")])],1)],1)],1)],1):t._e(),s("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.showChat,expression:"!showChat"}],staticClass:"chatTileList"},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-menu",{staticClass:"ma-0",attrs:{"offset-overflow":"","close-on-content-click":t.menu},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{large:"",text:""}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-magnify")]),t._v(" Search USer... ")],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-list",{staticClass:"searchList pa-0 ma-0",attrs:{dense:""}},[s("v-list-item",{staticClass:"ma-0 pa-0 "},[s("v-text-field",{staticClass:" mt-2",attrs:{autofocus:"",type:"text",placeholder:"",label:"","append-icon":"mdi-account-search",dense:"",rounded:"",color:"indigo"},on:{input:t.searchForUser},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._l(t.searchresArray,(function(e,a){return s("v-list-item",{key:a,staticClass:"searchTile",attrs:{"v-if":0!=t.searchresArray.length&&""!=t.searchValue&&t.searchShow},on:{click:function(e){return t.searchOpenChatRoom(a)}}},[s("v-list-item-avatar",{attrs:{size:"45"}},[s("v-img",{staticClass:"profImg",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",{},[s("div",{staticClass:"grey--text text-body-1 text--darken-2 font-weight-bold"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(e.email)+" ")])])],1)}))],2)],1)],1),s("v-divider",{attrs:{"v-if":0!=t.chatRooms.length}}),s("v-card-text",[s("v-card",{staticClass:"chatList pa-0 overflow-y-auto",attrs:{height:"420",flat:""}},t._l(t.chatRooms,(function(e,a){return s("v-list-item",{key:a,staticClass:"searchTile py-0 ",on:{click:function(s){return t.openChatRoom(a,e.chatRoomID)}}},[s("v-list-item-avatar",{attrs:{color:"grey",size:"50"}},[s("v-img",{staticClass:"profImg",attrs:{src:""!=e.profPic?e.profPic:"male"!=e.gender?"/female_defDP.png":"/male_defDP.png"}})],1),s("v-list-item-title",{staticClass:"px-3"},[s("v-row",{attrs:{justify:"space-between"}},[s("div",{staticClass:" grey--text body-1 text--darken-2 font-weight-bold"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:" caption grey--text"},[t._v(t._s(e.time))])]),s("v-row",[e.sentBy==t.$store.state.uid?s("v-icon",{attrs:{small:"",color:""}},[t._v("check")]):t._e(),s("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(e.lastMess)+" ")])],1)],1)],1)})),1)],1)],1)],1)},Xe=[],ts={components:{},data:function(){return{showChat:!1,menu:!1,postdialog:!1,searchresArray:[],searchValue:"",chatRooms:[],chatRoom:{},messList:[],message:"",searchShow:!1}},methods:{searchOpenChatRoom:function(t){var e=this,s=[this.searchresArray[t].id,this.$store.state.uid];s.sort();var a=s[0]+"_"+s[1],i=this.chatRooms.find((function(t){return t.chatRoomID==a}));void 0==i&&g.collection("chatRooms").doc(a).set({names:s,timestamp:0,lastMess:"",date:0,sentBy:""}),this.menu=!1,this.chatRoom={},this.messList=[],this.chatRoom.pic=this.searchresArray[t].profPic,this.chatRoom.name=this.searchresArray[t].name,this.chatRoom.gender=this.searchresArray[t].gender,this.chatRoom.id=a,g.collection("chatRooms").doc(a).collection("chats").orderBy("timestamp").onSnapshot((function(t){var s=t.docChanges();s.forEach((function(t){if("added"===t.type){var s=t.doc.data(),a=s.date.toDate();parseInt(a.getHours())>12?(s.time=String(parseInt(a.getHours())-12)+":",a.getMinutes()>=10?s.time=s.time+a.getMinutes():s.time=s.time+"0"+a.getMinutes(),s.time=String(s.time)+" PM"):(s.time=a.getHours()+":",a.getMinutes()>=10?s.time=s.time+a.getMinutes():s.time=s.time+"0"+a.getMinutes(),s.time=String(s.time)+" AM"),0!=e.messList.length?a.getDate()!=e.messList[0].date.toDate().getDate()&&e.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}):e.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}),e.messList.length>0?e.messList[0].timestamp!=s.timestamp&&e.messList.unshift(s):e.messList.unshift(s)}})),e.showChat=!0})),this.searchValue="",this.searchresArray=[]},sendMessage:function(t){var e=new Date;g.collection("chatRooms").doc(t).collection("chats").add({message:this.message,post:null,timestamp:e.getTime(),date:e,sentBy:this.$store.state.uid}),g.collection("chatRooms").doc(t).update({lastMess:this.message,timestamp:e.getTime(),date:e,sentBy:this.$store.state.uid}),this.message="";var s=this.chatRooms.filter((function(e){return e.chatRoomID!==t}));this.chatRooms=s},openChatRoom:function(t,e){var s=this;this.chatRoom={},this.messList=[],this.chatRoom.pic=this.chatRooms[t].profPic,this.chatRoom.name=this.chatRooms[t].name,this.chatRoom.gender=this.chatRooms[t].gender,this.chatRoom.id=this.chatRooms[t].chatRoomID,g.collection("chatRooms").doc(e).collection("chats").orderBy("timestamp").onSnapshot((function(t){var e=t.docChanges();e.forEach((function(t){if("added"===t.type){var e=t.doc.data(),a=e.date.toDate();parseInt(a.getHours())>12?(e.time=String(parseInt(a.getHours())-12)+":",a.getMinutes()>=10?e.time=e.time+a.getMinutes():e.time=e.time+"0"+a.getMinutes(),e.time=String(e.time)+" PM"):(e.time=a.getHours()+":",a.getMinutes()>=10?e.time=e.time+a.getMinutes():e.time=e.time+"0"+a.getMinutes(),e.time=String(e.time)+" AM"),0!=s.messList.length?a.getDate()!=s.messList[0].date.toDate().getDate()&&s.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}):s.messList.unshift({post:null,message:"",date:a.getDate()+"/"+String(parseInt(a.getMonth())+1)+"/"+a.getFullYear()}),s.messList.length>0?s.messList[0].timestamp!=e.timestamp&&s.messList.unshift(e):s.messList.unshift(e)}})),s.showChat=!0}))},searchForUser:function(){var t=this;""==this.searchValue?(this.searchShow=!1,this.searchresArray=[]):(this.menu=!0,g.collection("users").where("name",">=",this.searchValue).where("name","<=",this.searchValue+"").get().then((function(e){t.searchresArray=[],0!=e.size&&e.docs.forEach((function(e){var s=e.data();s.id=e.id,s.name!=t.$store.state.uname&&t.searchresArray.push(s)}))})))}},created:function(){var t=this;g.collection("chatRooms").orderBy("timestamp").onSnapshot((function(e){var s=e.docChanges();s.forEach((function(e){if(e.doc.data().names.includes(t.$store.state.uid)){var s=e.doc,a="";a=s.data().names[0]==t.$store.state.uid?s.data().names[1]:s.data().names[0],g.collection("users").doc(a).get().then((function(a){var i=a.data();if(i.chatRoomID=s.id,0!=s.data().timestamp){i.lastMess=s.data().lastMess,i.sentBy=s.data().sentBy;var o=s.data().date.toDate(),r=new Date,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(o.getFullYear()==r.getFullYear()&&o.getMonth()==r.getMonth()?o.getDate()==r.getDate()?parseInt(o.getHours())>12?(i.time=String(parseInt(o.getHours())-12)+":",o.getMinutes()>=10?i.time=i.time+o.getMinutes():i.time=i.time+"0"+o.getMinutes(),i.time=String(i.time)+" PM"):(i.time=o.getHours()+":",o.getMinutes()>=10?i.time=i.time+o.getMinutes():i.time=i.time+"0"+o.getMinutes(),i.time=String(i.time)+" AM"):parseInt(r.getDate())-parseInt(o.getDate())<=6?parseInt(r.getDate())-parseInt(o.getDate())==1?i.time="yesterday":i.time=n[parseInt(o.getDay())]:i.time=o.getDate()+"/"+String(parseInt(o.getMonth())+1)+"/"+String(o.getFullYear()).substring(2,4):i.time=o.getDate()+"/"+String(parseInt(o.getMonth())+1)+"/"+String(o.getFullYear()).substring(2,4),"modified"==e.type){var c=t.chatRooms.filter((function(t){return t.chatRoomID!=i.chatRoomID}));t.chatRooms=c}t.chatRooms.unshift(i)}}))}}))}))}},es=ts,ss=(s("69b4"),Object(w["a"])(es,Ze,Xe,!1,null,"2e141db2",null)),as=ss.exports;V()(ss,{VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VChip:Et["a"],VContainer:st["a"],VDivider:Mt["a"],VIcon:S["a"],VImg:z["a"],VList:H["a"],VListItem:Y["a"],VListItemAvatar:G["a"],VListItemTitle:K["c"],VMenu:at["a"],VRow:T["a"],VTextField:W["a"]});var is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.render?s("div",{},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md9:"",lg9:""}},[s("v-btn",{staticClass:"mt-1 ml-1",attrs:{fab:"",absolute:"",dark:"",icon:""},on:{click:function(e){return t.$router.go(-1)}}},[s("v-icon",{attrs:{large:"",color:""}},[t._v("mdi-close")])],1),s("v-card",{staticClass:"bg d-flex overflow-y-hidden align-center"},[s("v-card-text",[null!=t.project.img?s("v-img",{staticClass:"imgDisp",attrs:{contain:"",cover:"",src:t.project.img}}):s("div",{staticClass:"c-video"},[null!=t.project.vid?s("video",{staticClass:"videoPlayer",attrs:{loop:"",id:"video",autoplay:"",controls:""}},[s("source",{attrs:{src:t.project.vid}})]):t._e()])],1)],1)],1),s("v-flex",{staticClass:"fix",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[s("v-card",{staticClass:"ml-1 mr-0",attrs:{flat:"",elevation:""}},[s("v-card-title",{staticClass:"pb-1 pt-2",attrs:{"primary-title":""}},[s("v-btn",{attrs:{large:"",width:"50",height:"50",icon:"",text:""},on:{click:function(e){return t.$router.push({path:"/othersProfile/"+t.project.personID})}}},[s("v-avatar",{staticClass:"grey"},[s("v-img",{attrs:{src:""!=t.project.personProfPic?t.project.personProfPic:"male"!=t.project.personGender?"/female_defDP.png":"/male_defDP.png","lazy-src":"/acc.png"}})],1)],1),s("v-layout",{staticClass:"ml-2",attrs:{column:""}},[s("v-flex",{},[s("span",{staticClass:"black--text"},[t._v(" "+t._s(t.project.person)+" ")])]),s("v-flex")],1)],1),s("v-card-text",{staticClass:"py-0"},[s("p",{staticClass:"mb-1 black--text "},[t._v(t._s(t.project.content))])]),s("v-card-actions",{staticClass:"py-0"},[s("v-container",{staticClass:"py-0"},[s("v-col",{staticClass:"pl-2 py-1"},[s("v-row",{staticClass:" px-3 py-1 d-flex justify-space-between"},[s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(t.project.likes.length)+" "),s("LikesList",{attrs:{likes:t.project.likes}})],1),s("div",{staticClass:"text--primary d-flex justify-space-between"},[t._v(" "+t._s(t.project.comments.length)+" "),s("a",{staticClass:"ml-2",attrs:{text:"",color:""},on:{click:function(e){return t.$refs.textarea.focus()}}},[t._v(" comments ")])])]),s("v-divider",{}),s("div",{staticClass:"d-flex justify-space-around mt-2"},[t.project.iliked?t._e():s("v-icon",{on:{click:function(e){return t.likePost()}}},[t._v("mdi-heart-outline")]),t.project.iliked?s("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.unlikePost()}}},[t._v("mdi-heart")]):t._e(),s("v-icon",{attrs:{color:""},on:{click:function(e){return t.$refs.textarea.focus()}}},[t._v("mdi-comment-text-outline")])],1)],1)],1)],1)],1),s("v-card",{staticClass:" heading ml-1",attrs:{flat:""}},[s("v-card-text",{staticClass:"px-1 pb-0 pt-2"},[s("v-card",{staticClass:"mb-3 repliesCard overflow-y-auto d-flex flex-column-reverse",attrs:{flat:"","max-height":"350"}},[s("v-list",{staticClass:"my-0 py-0"},t._l(t.project.comments,(function(e,a){return s("div",{key:a},[s("v-list-item",{staticClass:"ccc my-0 py-0"},[s("v-list-item-avatar",{attrs:{size:"40"}},[s("v-img",{attrs:{onMouseOver:"this.style.cursor='pointer'",src:""!=t.commenterData[e.sentBy].profPic?t.commenterData[e.sentBy].profPic:"/male_defDp.png"},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.sentBy})}}})],1),s("v-list-item-content",{staticClass:"py-1"},[s("v-list-item-title",[s("span",{staticClass:"body-1"},[t._v(t._s(t.commenterData[e.sentBy].name))]),s("span",{staticClass:"caption"},[t._v(" "+t._s(e.comment))])]),s("v-list-item-subtitle",{staticClass:"pl-3"},[s("v-row",[s("v-icon",{attrs:{small:"",color:""},on:{click:function(s){t.replyIndex=a,t.myReply="@"+t.commenterData[e.sentBy].name}}},[t._v("mdi-share")]),s("a",{directives:[{name:"show",rawName:"v-show",value:0!=e.replyComments.length,expression:"comment.replyComments.length!=0"}],staticClass:"caption ml-1 grey--text text--darken-2",on:{click:function(e){t.project.comments[a].replies=!t.project.comments[a].replies,t.$forceUpdate()}}},[t._v("replies...")])],1)],1)],1),s("v-list-item-action",{staticClass:"caption"},[t._v(" "+t._s(t.howLongPosted(e.date))+" ")])],1),s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.project.comments[a].replies,expression:"project.comments[index].replies"}],staticClass:" mr-1 overflow-y-auto repliesCard",attrs:{flat:"","max-height":"160"}},[s("v-list",{staticClass:"ml-14 py-0 my-0"},t._l(e.replyComments,(function(e,i){return s("div",{key:i},[s("v-list-item",{staticClass:"ccc mb-2"},[s("v-list-item-avatar",{attrs:{size:"30"}},[s("v-img",{attrs:{onMouseOver:"this.style.cursor='pointer'",src:t.commenterData[e.sentBy].profPic},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.sentBy})}}})],1),s("v-list-item-content",{staticClass:"py-0"},[s("v-list-item-title",[s("span",{staticClass:"body-1"},[t._v(t._s(t.commenterData[e.sentBy].name))]),s("span",{staticClass:"caption"},[t._v(" "+t._s(e.comment))])]),s("v-list-item-subtitle",{staticClass:"pl-3"},[s("v-row",[s("v-icon",{attrs:{small:"",color:""},on:{click:function(s){t.replyIndex=a,t.myReply="@"+t.commenterData[e.sentBy].name}}},[t._v("mdi-share")])],1)],1)],1),s("v-list-item-action",{staticClass:"mr-4"},[t._v(t._s(t.howLongPosted(e.date)))])],1)],1)})),0)],1)],1)})),0)],1)],1),s("v-card-actions",{staticClass:"ml-4 ma-0 pa-1 mb-0"},[""==t.myReply?s("v-row",{},[s("v-textarea",{ref:"textarea",attrs:{autofocus:"",solo:"",rounded:"",placeholder:"Add a comment",rows:"1","auto-grow":"",color:""},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),s("v-btn",{staticClass:"mt-1",attrs:{disabled:""==t.myComment,text:"",color:"indigo"},on:{click:function(e){return t.sendComment()}}},[t._v(" post")])],1):s("v-row",{},[s("v-textarea",{attrs:{autofocus:"",solo:"",rounded:"","append-icon":"mdi-close",placeholder:"Add a Reply",rows:"1","auto-grow":"",color:""},on:{"click:append":function(e){t.replyIndex="",t.myReply=""}},model:{value:t.myReply,callback:function(e){t.myReply=e},expression:"myReply"}}),s("v-btn",{staticClass:"mt-1 ",attrs:{disabled:""==t.myReply,text:"",color:"indigo"},on:{click:function(e){return t.replyComment()}}},[t._v(" post")])],1)],1)],1)],1)],1)],1):t._e()},os=[],rs={components:{LikesList:Ft},props:{projID:String},data:function(){return{myReply:"",replyIndex:"",project:{},render:!1,myComment:"",commenterData:{}}},watch:{replyIndex:function(t){console.log(t),console.log(this.myReply)},$route:function(t){var e=this;g.collection("project").doc(t.params.id).get().then((function(s){e.project=s.data(),e.project.id=t.params.id,e.project.likes.includes(e.$store.state.uid)?e.project.iliked=!0:e.project.iliked=!1,console.log(e.project),e.project.comments.forEach((function(t){t.replies=!1})),console.log(e.project.comments),0!=e.project.comments.length&&(e.project.comments.sort((function(t,e){return t.timestamp>e.timestamp?1:-1})),g.collection("users").get().then((function(t){t.docs.forEach((function(t){var s=t.id,a=t.data();e.commenterData[s]=a})),e.render=!0})),console.log(e.commenterData))}))}},mounted:function(){var t=this;g.collection("project").doc(this.$route.params.id).onSnapshot((function(e){t.project=e.data(),t.project.id=t.$route.params.id,t.project.likes.includes(t.$store.state.uid)?t.project.iliked=!0:t.project.iliked=!1,console.log(t.project),t.project.comments.forEach((function(t){t.replies=!1})),t.project.comments.sort((function(t,e){return t.timestamp>e.timestamp?1:-1})),g.collection("users").get().then((function(e){e.docs.forEach((function(e){var s=e.id,a=e.data();t.commenterData[s]=a})),t.render=!0})),console.log(t.commenterData)}))},methods:{likePost:function(){this.project.iliked=!0,this.project.likes.push(this.$store.state.uid),g.collection("project").doc(this.project.id).update({likes:C.a.firestore.FieldValue.arrayUnion(this.$store.state.uid)})},unlikePost:function(){var t=this;this.project.iliked=!1,this.project.likes=this.project.likes.filter((function(e){return e!=t.$store.state.uid})),g.collection("project").doc(this.project.id).update({likes:C.a.firestore.FieldValue.arrayRemove(this.$store.state.uid)})},replyComment:function(){console.log(this.replyIndex,"kjhg",this.myReply);var t=new Date,e={comment:this.myReply,sentBy:this.$store.state.uid,timestamp:t.getTime(),date:t};this.project.comments[this.replyIndex].replyComments.push(e),g.collection("project").doc(this.postId).update({comments:this.project.comments}),this.myReply="",this.replyIndex=""},sendComment:function(){if(""!=this.myComment){var t=new Date,e={comment:this.myComment,replyComments:[],sentBy:this.$store.state.uid,timestamp:t.getTime(),date:t};g.collection("project").doc(this.project.id).update({comments:C.a.firestore.FieldValue.arrayUnion(e)}),this.myComment=""}},howLongPosted:function(t){var e=t.toDate(),s=new Date,a=(s.getTime()-e.getTime())/36e5;return a<1?0==Math.floor(60*a)?"just now":Math.floor(60*a)+" m":a>24?Math.floor(a/24)+" d":Math.floor(a)+" h"}}},ns=rs,cs=(s("85cd"),Object(w["a"])(ns,is,os,!1,null,null,null)),ls=cs.exports;V()(cs,{VAvatar:et["a"],VBtn:P["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VCol:oe["a"],VContainer:st["a"],VDivider:Mt["a"],VFlex:I["a"],VIcon:S["a"],VImg:z["a"],VLayout:M["a"],VList:H["a"],VListItem:Y["a"],VListItemAction:N["a"],VListItemAvatar:G["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VRow:T["a"],VTextarea:A["a"]});var ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tot"},[s("v-btn-toggle",{staticClass:"mb-4 d-flex justify-center grey lighten-3",attrs:{rounded:"",mandatory:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[s("v-btn",{staticClass:"indigo lighten-1",attrs:{dark:""}},[t._v("Mutuals")]),s("v-btn",{staticClass:"indigo lighten-1",attrs:{dark:""}},[t._v("All Friends")])],1),s("v-card",{directives:[{name:"show",rawName:"v-show",value:0==t.value,expression:"value==0"}],staticClass:"px-4",attrs:{"min-height":"400"}},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.mutuals,(function(e){return s("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md6:"",lg4:"",xl2:""}},[s("v-card",{staticClass:"ma-2  lighten-3",attrs:{outlined:"",flat:""}},[s("v-list-item",{staticClass:"ma-3 mx-5",attrs:{elevation:"","max-width":""}},[s("v-list-item-avatar",{staticClass:"disp d-flex justify-center",attrs:{color:"grey",size:"100"}},[s("v-img",{attrs:{src:""!=e.data().profPic?e.data().profPic:"male"!=e.data().gender?"/female_defDP.png":"/male_defDP.png",alt:'member.data().gender!="male"?"/female_defDP.png":"/male_defDP.png"'},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.id})}}})],1),s("v-list-item-content",[s("v-list-item-title",[s("div",{staticClass:" text-h5 black--text"},[t._v(" "+t._s(e.data().name)+" ")])]),s("v-list-item-subtitle",[s("div",{staticClass:"grey--text text--darken-1 text-body-1"},[t._v(" "+t._s(e.data().email)+" ")])])],1)],1)],1)],1)})),1)],1),s("v-card",{directives:[{name:"show",rawName:"v-show",value:1==t.value,expression:"value==1"}],staticClass:"px-4 ",attrs:{"min-height":"400"}},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.members,(function(e){return s("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md6:"",lg4:"",xl2:""}},[s("v-card",{staticClass:"ma-2  lighten-3",attrs:{outlined:"",flat:""}},[s("v-list-item",{staticClass:"ma-3 mx-5",attrs:{elevation:"","max-width":""}},[s("v-list-item-avatar",{staticClass:"disp d-flex justify-center",attrs:{color:"grey",size:"100"}},[s("v-img",{attrs:{src:""!=e.data().profPic?e.data().profPic:"male"!=e.data().gender?"/female_defDP.png":"/male_defDP.png",alt:'member.data().gender!="male"?"/female_defDP.png":"/male_defDP.png"'},on:{click:function(s){return t.$router.push({path:"/othersProfile/"+e.id})}}})],1),s("v-list-item-content",[s("v-list-item-title",[s("div",{staticClass:" text-h5 black--text"},[t._v(" "+t._s(e.data().name)+" ")])]),s("v-list-item-subtitle",[s("div",{staticClass:"grey--text text--darken-1 text-body-1"},[t._v(" "+t._s(e.data().email)+" ")])])],1)],1)],1)],1)})),1)],1)],1)},ms=[],us={data:function(){return{render:!1,value:0,members:[],mutuals:[]}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.$route.params.id),e.next=3,g.collection("users").where("friends","array-contains",t.$store.state.uid).get().then((function(e){t.members=e.docs,t.mutuals=e.docs.filter((function(e){return e.data().friends.includes(t.$route.params.id)})),t.render=!0}));case 3:case"end":return e.stop()}}),e)})))()}},ps=us,vs=(s("c297"),s("a609")),fs=Object(w["a"])(ps,ds,ms,!1,null,"631930a2",null),hs=fs.exports;V()(fs,{VBtn:P["a"],VBtnToggle:vs["a"],VCard:j["a"],VFlex:I["a"],VImg:z["a"],VLayout:M["a"],VListItem:Y["a"],VListItemAvatar:G["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"]}),a["a"].use(jt["a"]);var gs=new jt["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ne,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:Le,meta:{requiresAuth:!0}},{path:"/team",name:"team",component:qe,meta:{requiresAuth:!0}},{path:"/othersProfile/:id",name:"othersProfile",component:Qe},{path:"/postView/:id",name:"postView",component:ls},{path:"/teamMut/:id",name:"teamMut",component:hs},{path:"/chat",name:"chat",component:as}]});gs.beforeEach((function(t,e,s){var a=t.matched.some((function(t){return t.meta.requiresAuth})),i=C.a.auth().currentUser;a&&!i?s("/"):s()}));var ys=gs,Cs=s("2f62"),_s=void 0;a["a"].use(Cs["a"]);var xs=new Cs["a"].Store({state:{uname:"",email:"",profPic:"",gender:"",uid:""},getters:{userDetails:function(t){return t.user}},mutations:{changeUser:function(t,e){t.uname=e.name,t.email=e.email,t.profPic=e.profPic,t.coverPic=e.coverPic,t.gender=e.gender,t.uid=e.id},changeProfPic:function(t,e){t.profPic=e},changeCoverPic:function(t,e){t.coverPic=e},changeUID:function(t,e){t.uid=e}},actions:{Register:function(t,e){C.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(s){g.collection("users").doc(s.user.uid).set({name:e.name,email:e.email,profPic:"",coverPic:"",gender:e.gender,inRequests:[],friends:[],tokens:[]}),e.id=s.user.id,t.commit("changeUser",e)}))},Login:function(t,e){console.log(e),g.collection("users").doc(e.user.uid).get().then((function(e){var s=e.data();s.id=e.id,console.log(e),t.commit("changeUser",s),_s.$router.go()}))},fetchUserDetails:function(t,e){t.commit("changeUID",e.uid),g.collection("users").doc(e.uid).get().then((function(e){var s=e.data();s.id=e.id,t.commit("changeUser",s)}))}},modules:{}}),bs=s("f309");a["a"].use(bs["a"]);var ws,ks=new bs["a"]({});a["a"].config.productionTip=!1,C.a.auth().onAuthStateChanged((function(t){t&&xs.dispatch("fetchUserDetails",t),ws||(ws=new a["a"]({router:ys,store:xs,vuetify:ks,render:function(t){return t(Pt)}}).$mount("#app"))}))},"5d83":function(t,e,s){},"69b4":function(t,e,s){"use strict";var a=s("4816"),i=s.n(a);i.a},"6f4f":function(t,e,s){"use strict";var a=s("b5ad"),i=s.n(a);i.a},"728a":function(t,e,s){"use strict";var a=s("7635"),i=s.n(a);i.a},"75a1":function(t,e,s){},7635:function(t,e,s){},7655:function(t,e,s){"use strict";var a=s("7965"),i=s.n(a);i.a},7965:function(t,e,s){},"7a49":function(t,e,s){"use strict";var a=s("0bc9"),i=s.n(a);i.a},"85cd":function(t,e,s){"use strict";var a=s("f585"),i=s.n(a);i.a},"85ec":function(t,e,s){},"94e2":function(t,e,s){"use strict";var a=s("dc04"),i=s.n(a);i.a},"9a13":function(t,e,s){},a035:function(t,e,s){},a276:function(t,e,s){"use strict";var a=s("9a13"),i=s.n(a);i.a},a737:function(t,e,s){"use strict";var a=s("5d83"),i=s.n(a);i.a},a9c2:function(t,e,s){},b5ad:function(t,e,s){},b674:function(t,e,s){"use strict";var a=s("a9c2"),i=s.n(a);i.a},c297:function(t,e,s){"use strict";var a=s("514b"),i=s.n(a);i.a},c777:function(t,e,s){},d36c:function(t,e,s){"use strict";var a=s("c777"),i=s.n(a);i.a},dad9:function(t,e,s){"use strict";var a=s("31b5"),i=s.n(a);i.a},dc04:function(t,e,s){},e362:function(t,e,s){},f51c:function(t,e,s){"use strict";var a=s("75a1"),i=s.n(a);i.a},f585:function(t,e,s){}});
//# sourceMappingURL=app.f39be900.js.map